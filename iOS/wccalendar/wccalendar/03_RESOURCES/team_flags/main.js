define(['frameworks/bundle'],function () {(function(w){w.fifa.vocManager.addVocabulary({'__e__':{text:'',abbr:''},"send":{text:"Send", abbr:""},"comments":{text:"Comments", abbr:""},"reply":{text:"reply", abbr:""},"now":{text:"Now", abbr:""},"facebook":{text:"Facebook", abbr:""},"showOlderReplies":{text:"Show older replies", abbr:""},"hideOlderReplies":{text:"Hide older replies", abbr:""},"noreplies":{text:"No replies", abbr:""},"beTheFirstCommenting":{text:"Be the first to comment", abbr:""},"fifacomaccount":{text:"FIFA.com account", abbr:""},"loginwith":{text:"Login with", abbr:""},"fifa.loginwith":{text:"Log-in with", abbr:""},"fifa.noreplies":{text:"No replies", abbr:""},"fifa.beTheFirstToComment":{text:"Be the first to comment", abbr:""},"fifa.fifacomaccount":{text:"FIFA.com Account", abbr:""},"fifa.hideOlderReplies":{text:"Hide older replies", abbr:""},"fifa.showOlderReplies":{text:"Show older replies", abbr:""},"fifa.now":{text:"Now", abbr:""},"fifa.reply":{text:"reply", abbr:""},"fifa.loginwfifacomaccount":{text:"Log-in with FIFA.com account", abbr:""},"fifa.moreComments":{text:"More Comments", abbr:""},"fifa.addAnotherComment":{text:"Add another comment", abbr:""},"fifa.replies":{text:"replies", abbr:""},"allPotm":{text:"All Players of the match", abbr:""},"allPotmWomen":{text:"All LYG Players of the match", abbr:""},"potm":{text:"Player of the Match", abbr:""},"potmWoman":{text:"LYG - Player of the Match", abbr:""},"fifa.commentsClosed":{text:"Comments are closed", abbr:""},"fifa.instructionsSearch":{text:"Search", abbr:""},"fifaCongress2014":{text:"FIFA Congress 2014", abbr:""},"/worldcup/organisation/poster_K":{text:"World Cup Poster,FIFA World Cup official emblem and poster", abbr:""},"technicalDirector":{text:"Technical Director", abbr:""},"secondAffiliation":{text:"Second affiliation", abbr:""},"fifa.loginToAddComment":{text:"Log-in to add your comment", abbr:""},"fifa.wordCount":{text:"Word count:", abbr:""},"/worldcup/teams/team/profile_K":{text:"{team_hint} World Cup,{team_hint} World Cup profile,{team_hint} World Cup image, {team_hint} World Cup news,{team_hint},2014 World Cup {team_hint},2014 World Cup {team_hint} profile,2014 World Cup {team_hint} image,2014 World Cup {team_hint} news", abbr:""},"/worldcup/teams/team/profile_D":{text:"{team_hint} 2014 FIFA World Cup team profile", abbr:""},"/worldcup/teams/team/profile_T":{text:"2014 FIFA World Cup™ - {team_hint} - Profile", abbr:""},"activityReport":{text:"Activity Report", abbr:""},"/worldcup/teams/team/statistics_K":{text:"{team_hint} World Cup statistics,{team_hint} World Cup standings,{team_hint} World Cup,{team_hint} World Cup matches,{team_hint} World Cup profile, {team_hint} World Cup news,{team_hint},2014 World Cup {team_hint} statistics,2014 World Cup {team_hint} standings,2014 World Cup {team_hint} matches,2014 World Cup {team_hint} profile,2014 World Cup {team_hint} news", abbr:""},"/worldcup/teams/team/statistics_D":{text:"Keep across the latest statistics for {team_hint} at the 2014 FIFA World Cup", abbr:""},"/worldcup/teams/team/statistics_T":{text:"2014 FIFA World Cup™ - {team_hint} - Statistics", abbr:""},"/worldcup/teams/team/matches/match_K":{text:"{team_hint} World Cup,{team_hint} World Cup matches,{team_hint} World Cup profile, {team_hint} World Cup news,{team_hint},2014 World Cup {team_hint},2014 World Cup {team_hint} matches,2014 World Cup {team_hint} profile,2014 World Cup {team_hint} news", abbr:""},"/worldcup/teams/team/matches/match_D":{text:"Details of {team_hint}'s matches at the 2014 FIFA World Cup", abbr:""},"/worldcup/teams/team/matches/match_T":{text:"2014 FIFA World Cup™ - {team_hint} - {match_hint}", abbr:""},"readTheOtherStories":{text:"Read the finalists' stories", abbr:""},"thankYouForVoteKia":{text:"Thank you for your vote in the Power of Football Contest presented by Kia. The contest winner will be announced in April.", abbr:""},"fifa.qualifierGroups":{text:"Qualifying Groups", abbr:""},"publicViewingReq":{text:"Apply now", abbr:""},"fifayouthcup2014":{text:"Blue Stars 2014/FIFA Youth Cup'", abbr:""},"benficaClub":{text:"Benfica", abbr:""},"asanteKotokoClub":{text:"Asante Kotoko", abbr:""},"villarrealClub":{text:"Villarreal CF", abbr:""},"blueStarsZurichClub":{text:"FC Blue Stars Zürich", abbr:""},"paranaenseClub":{text:"Clube Atlético Paranaense", abbr:""},"fcSionClub":{text:"FC Sion", abbr:""},"bayernClub":{text:"FC Bayern München", abbr:""},"olympiacosClub":{text:"Olympiacos FC", abbr:""},"fifa.myTicketingAccount":{text:"My ticketing account", abbr:""},"fifa.discoverCanada":{text:"Discover Canada", abbr:""}});}(window));(function($,w,d) {var pageModel=fifa.model.extend({initialize:function(options) {var _this=this;fifa.model.prototype.initialize.apply(_this,[options]);},scrollspyOnPageScroll:function() {this.triggerMe('scroll');},scrollspyOnItemChange:function($this) {if(!!window.fifa.analytics.firstTrack) {fifa.dispatcher.trigger('analytics:pageView',$this);}if(!!w.fifa.analytics.firstPageLoad) {w.fifa.analytics.firstPageLoad=false;}},moduleOnItemFound:function($module) {console.log("itemfound");this.triggerView('advNavRefresh',$module);},name:'page',view_name:'page:view'});w.models.page=new pageModel({bind:['scrollspy:itemChange','scrollspy:pageScroll','module:itemFound']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var pageView=fifa.view.extend({$adv_nav:null,$first_adv:null,$adv_page:null,$obj_current:null,$backToTop:null,$stickyFirstLoad:true,$leaderBoardFirstLoad:true,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('init');},onInit:function() {var _this=this;w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.firstPageLoad=w.fifa.analytics.firstPageLoad||true;if(!!w.fifa.analytics.Page.getActiveVars().trackFromLoaded==true) {w.fifa.analytics.scrollPageLoading=true;}_this.triggerMe('advInit');_this.triggerMe('backToTopInit');if(!!w.fifa.analytics.firstPageLoad) {amc.on('domcontentloaded',function() {w.fifa.analytics.firstPageLoad=false;});}$('div.loginBasedIncluder').each(function() {var $this=$(this),url1=$this.attr("data-load1"),url2=$this.attr("data-load2"),c=Cookie.get("FIFACom");if(c) {$.ajax({type:'GET',url:encodeURI(url1).withIgn(),success:function(data) {$data=$(data);$this.append($data);$this.show();fifa.dispatcher.trigger('core:ajaxDataRequire',data);amc.on('load',function() {$('.adv.not-loaded').each(function() {var _id=this.id;googletag.cmd.push(function() {googletag.display(_id);googletag.pubads().refresh();});this.className=this.className.replace('not-loaded','loaded');});});},error:function() { $this.show();}});}else {$.ajax({type:'GET',url:encodeURI(url2).withIgn(),success:function(data) {$data=$(data);$this.append($data);$this.show();var redirectUri=$("form.f_fblogin_form input.f_redirect_uri").val()||'';redirectUri=redirectUri.replace("current=current","current=" + window.location.href);$("form.f_fblogin_form input.f_redirect_uri").val(redirectUri);$(".article-body form.f_login_form input.f_redirect_uri").val(window.location.href);fifa.dispatcher.trigger('core:ajaxDataRequire',data);fifa.dispatcher.trigger('form:view:watermarkInit',$this);_this.triggerMe('loginReinit');amc.on('load',function() {$('.adv.not-loaded').each(function() {var _id=this.id;googletag.cmd.push(function() {googletag.display(_id);googletag.pubads().refresh();});this.className=this.className.replace('not-loaded','loaded');});});},error:function() { $this.show();}});}});},onBackToTopInit:function() {var _this=this;_this.$contentWrap=$('#content-wrap');_this.$backToTop=$('<a id="fixed-backtotop" href="#backtotop" class="hidden" title="Back%20To%20Top"><span/></a>').appendTo('#wrap').on('click.back',function(e) {e.preventDefault();_this.triggerMe('backToTopClick',_this.$contentWrap);});_this.triggerMe('backToTopScroll');},onAdvInit:function() {var _this=this;_this.$adv_nav=$('.adv-nav');_this.$w=$(window);_this.$first_adv=_this.$el.not(_this.$adv_nav).first();if((_this.$adv_nav.length>0&&_this.$first_adv.length>0)) {_this.$first_adv_top=_this.$first_adv.offset().top;}_this.$adv_page=$('.adv-page-default');_this.fallback_advParameter=_this.$adv_page.find('*[type="adv-parameter"]');_this.fallback_customCriteria=_this.$adv_page.find('*[type="adv-customcriteria"]');w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.lbToRefresh=w.fifa.analytics.lbToRefresh||false;w.fifa.analytics.navToRefresh=w.fifa.analytics.navToRefresh||false;if(!!window.fifa.analytics.firstTrack==false) {if(!!w.fifa.analytics.Page.getActiveVars().trackFromLoaded==false) {amc.on('pageload',function() {if(!!w.fifa.analytics.scrollPageLoading==false) {_this.triggerMe('lbRefresh');}_this.triggerMe('advRefresh');});}}else {_this.triggerMe('lbRefresh');_this.triggerMe('advRefresh');}},pageOnScroll:function() {var _this=this;if(_this.$adv_nav.length>0) {if((_this.$w.scrollTop() + fifa.getSiteHeaderHeight())<=_this.$first_adv_top) {if(!!w.fifa.analytics.Page.getActiveVars().trackFromLoaded==false||!!w.fifa.analytics.scrollPageLoading==false) {_this.triggerMe('lbRefresh');}}else if(_this.$adv_nav.is('.hidden')) {if(!!w.fifa.analytics.Page.getActiveVars().disableAdvNavRefresh==true) {_this.$first_adv.addClass('not-loaded').removeClass('loaded');}else {_this.$first_adv.html('').addClass('not-loaded').removeClass('loaded');}_this.$adv_nav.removeClass('hidden');_this.triggerMe('advNavRefresh',_this.$obj_current);}}},coreOnPageScroll:function() {this.triggerMe('backToTopScroll');},onBackToTopScroll:function() {var _this=this;if($(w).scrollTop()>(fifa.getSectionHeaderHeight() + fifa.getSiteHeaderHeight())) {_this.$backToTop.removeClass('hidden');}else {_this.$backToTop.addClass('hidden');}},onBackToTopClick:function() {fifa.dispatcher.trigger('scrollspy:resetDefaultStyles');fifa.$body_html.animate({ scrollTop:0});},onAdvRefresh:function() {fifa.log("advRefresh");var _this=this;_this.$el.not(_this.$first_adv).filter('.not-loaded').each(function() {var _id=this.id;googletag.cmd.push(function() {googletag.display(_id);googletag.pubads().refresh();});this.className=this.className.replace('not-loaded','loaded');});},onLbRefresh:function() {fifa.log("onLbRefresh");var _this=this;if(_this.$first_adv.hasClass('not-loaded')) {if(!!w.fifa.analytics.Page.getActiveVars().disableAdvNavRefresh==true&&this.$leaderBoardFirstLoad==false) {_this.$adv_nav.addClass('hidden');return;}else {_this.$adv_nav.html('').addClass('hidden');}var _id=_this.$first_adv.attr('id');googletag.cmd.push(function() {googletag.display(_id);w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};if(!!w.fifa.analytics.lbToRefresh) {if(!!w.fifa.analytics.Page.getActiveVars().disabletrackonscroll==false) {googletag.pubads().refresh();}}w.fifa.analytics.lbToRefresh=true;});_this.$first_adv.addClass('loaded').removeClass('not-loaded');if(!!w.fifa.analytics.Page.getActiveVars().disableAdvNavRefresh==true&&this.$leaderBoardFirstLoad==true) {this.$leaderBoardFirstLoad=false;}}},onAdvPhotoRefresh:function($obj) {var _this=this;_this.$obj_current=$obj;var createNewGoogleTag=false;if(!($obj&&$obj.length)) { return;}if(typeof w.googletag==='undefined') {w.googletag=w.googletag||{};w.googletag.cmd=w.googletag.cmd||[];(function() {var gscript=document.getElementById('google_adv_include');if(gscript) { return;}var gads=document.createElement('script');gads.id='google_adv_include';gads.async=true;gads.type='text/javascript';var useSSL='https:'==document.location.protocol;var urljs="//www.googletagservices.com/tag/js/gpt.js";gads.src=(useSSL ? 'https:':'http:') + urljs;var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();createNewGoogleTag=true;}var $advParameter=_this.get$Element($obj,'*[type="adv-parameter"]'),$customCriteria=_this.get$Element($obj,'*[type="adv-customcriteria"]');if(!$advParameter.length) {$advParameter=_this.fallback_advParameter;$customCriteria=_this.fallback_customCriteria;}if(!$advParameter||!$advParameter.length) { return;}var adv_obj=eval('(' + $advParameter[0].innerHTML + ')');var $advDIvId=adv_obj.divid + (new Date().getTime());$obj.children("div").remove();$obj.append('<div id="' + $advDIvId + '"></div>');var name=adv_obj.adname;if(!!name==false||name.length==0) {var au=s.pageName.replace(/ [^:]*/g,"");au=au.split(':');au.splice(-1,1);if(au.length>4) {au.reverse();au.splice(0,au.length - 4);au.reverse();}au=au.join('/');if(au.length!=0) { au='/' + au;}name="" + adv_obj.adroot + au;}if(createNewGoogleTag) {w.googletag.cmd.push(function() {w.googletag.pubads().setTargeting('site',["en"]);});var DBClickKeyValues=document.location.pathname.match(/[^/]*=[^/|^\.]*/gi);if(DBClickKeyValues!=null) {DBClickKeyValues=DBClickKeyValues.toString();DBClickKeyValues=DBClickKeyValues.split(',');for (var i=0; i!=DBClickKeyValues.length; i++) {var key=DBClickKeyValues[i].split('=')[0];var value=DBClickKeyValues[i].split('=')[1];if(value.indexOf('-')!=-1) {value=value.split('-');value=value[value.length - 1];}w.googletag.cmd.push(function() {w.googletag.pubads().setTargeting(key,[value]);});}}w.googletag.cmd.push(function() {w.googletag.pubads().setTargeting('user',[((Cookie.get('FIFAComClub')) ? 'loggedin':'notloggedin')]);});window.DBClickRefresh=function() {w.googletag.cmd.push(function() {w.googletag.pubads().refresh();});};w.googletag.cmd.push(function() {w.googletag.defineSlot(name,eval('(' + adv_obj.adsize + ')'),$advDIvId).addService(w.googletag.pubads());w.googletag.enableServices();if($customCriteria.length) {var criteria_obj=eval('(' + $customCriteria[0].innerHTML + ')'),p;for (p in criteria_obj) {w.googletag.setTargeting(p,criteria_obj[p]);}}});w.googletag.cmd.push(function() {w.googletag.display($advDIvId);w.googletag.pubads().refresh($advDIvId);w.gTag=true;});}else {w.googletag.cmd.push(function() {w.googletag.defineSlot(name,eval('(' + adv_obj.adsize + ')'),$advDIvId).addService(w.googletag.pubads());w.googletag.enableServices();if($customCriteria.length) {var criteria_obj=eval('(' + $customCriteria[0].innerHTML + ')'),p;for (p in criteria_obj) {w.googletag.setTargeting(p,criteria_obj[p]);}}});w.googletag.cmd.push(function() {w.googletag.display($advDIvId);w.googletag.pubads().refresh($advDIvId);});}},onAdvNavRefresh:function($obj) {fifa.log("onAdvNavRefresh");if(!!w.fifa.analytics.Page.getActiveVars().disableAdvNavRefresh==true&&this.$stickyFirstLoad==false) {console.log("stickyload return");return;}var _this=this;_this.$obj_current=$obj;if(!!$obj==false&&!!w.fifa.analytics.Page.getActiveVars().trackFromLoaded) {$obj=$("#" + w.fifa.analytics.Page.getActiveVars().trackFromLoaded);}if(!($obj&&$obj.length)) { return;}var $advParameter=_this.get$Element($obj,'*[type="adv-parameter"]'),$customCriteria=_this.get$Element($obj,'*[type="adv-customcriteria"]');if(!$advParameter.length) {$advParameter=_this.fallback_advParameter;$customCriteria=_this.fallback_customCriteria;}if(!$advParameter||!$advParameter.length) { return;}var adv_obj=eval('(' + $advParameter[0].innerHTML + ')');var $advDIvId=adv_obj.divid + (new Date().getTime());_this.$adv_nav.children("div").remove();_this.$adv_nav.append('<div id="' + $advDIvId + '"></div>');if(!!w.fifa.analytics.Page.getActiveVars().disabletrackonscroll==false) {fifa.log("test");googletag.cmd.push(function() {var name=adv_obj.adname;if(!!name==false||name.length==0) {var au=s.pageName.replace(/ [^:]*/g,"");au=au.split(':');au.splice(-1,1);if(au.length>4) {au.reverse();au.splice(0,au.length - 4);au.reverse();}au=au.join('/');if(au.length!=0) { au='/' + au;}name="" + adv_obj.adroot + au;w.fifa.analytics.adroot=w.fifa.analytics.adroot||adv_obj.adroot;}googletag.defineSlot(name,eval('(' + adv_obj.adsize + ')'),$advDIvId).addService(googletag.pubads());googletag.enableServices();if($customCriteria.length) {var criteria_obj=eval('(' + $customCriteria[0].innerHTML + ')'),p;for (p in criteria_obj) {googletag.setTargeting(p,criteria_obj[p]);}}});googletag.cmd.push(function() {googletag.display($advDIvId);w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};googletag.pubads().refresh($advDIvId);w.fifa.analytics.navToRefresh=true;});fifa.log("adv nav displayed");if(!!w.fifa.analytics.Page.getActiveVars().trackFromLoaded) {w.fifa.analytics.scrollPageLoading=false;}if(!!w.fifa.analytics.Page.getActiveVars().disableAdvNavRefresh==true&&this.$stickyFirstLoad==true) {this.$stickyFirstLoad=false;}}},get$Element:function($obj,selector) {var id=$obj.attr('id'),cache_key=[id,selector].join('.');if(!id) {return $obj.find(selector);}return (fifa.cacheMap.get(cache_key)||fifa.cacheMap.set(cache_key,$obj.find(selector)));},coreOnReinit:function() {var _this=this;_this.setElement(__cfg.el);_this.triggerMe('init');amc.on('load',function() {$('.adv.loaded').each(function() {var $this=$(this),_id=this.id;var $script=$this.prev('script').remove();$script.insertAfter($this);setTimeout(function(s) {clearTimeout(s);googletag.cmd.push(function() {googletag.display(_id.trim());googletag.pubads().refresh();});},100);});});},name:'page:view',model_name:'page'}),__cfg={el:'.adv',bind:['init','advInit','advRefresh','advNavRefresh','lbRefresh','backToTopClick','backToTopInit','backToTopScroll','page:scroll','core:pageScroll','core:reinit','loginReinit','advPhotoRefresh']};w.views.page=new pageView(__cfg);}(window.jQuery||window.jm,window,document));;(function($,w,d) {var editorialView=fifa.view.extend({$page:null,$allRelatedDiv:null,$paginationBut:null,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('relatedInit');_this.triggerMe('printInit');_this.triggerMe('paginationInit');},onPrintInit:function() {$('.icon-print').on('click',function(e) {e.preventDefault();w.print();});},onRelatedInit:function() {var _this=this;_this.$allRelatedDiv=$('.article-relateditem');_this.$allRelatedBut=_this.$allRelatedDiv.find('.btn-more').on('click',function() {_this.triggerMe('allRelatedButClick');});},onAllRelatedButClick:function() {var _this=this;_this.$allRelatedDiv.find('div.ritem-listall').removeClass('hidden');_this.$allRelatedBut.addClass('hidden');},onPaginationInit:function() {var _this=this;_this.$paginationBut=$('.dcm-listnav');if(_this.$paginationBut.length) {_this.triggerMe('pagination');}},onPagination:function() {var _this=this;var platform=_this.$paginationBut.attr('data-platform');var butmore=_this.$paginationBut.find('.btn-more');var container=_this.$paginationBut.parent('.dcm-list');if(platform!='mobile') {fifa.dispatcher.trigger('core:view:progressCreate',butmore);butmore.removeAttr("href").on('click',function(e) {e.preventDefault();var $this=$(this),targetUrl=$this.attr("data-attr");if($this.hasClass('disabled')) { return;}$this.addClass('disabled');fifa.dispatcher.trigger('core:view:progressStart',$this);if(targetUrl.length) {$.ajax({url:targetUrl.withIgn(),type:'GET',success:function(data) {fifa.dispatcher.trigger('core:view:progressEnd',$this,function() {$this.remove();$(container).append($(data).html());_this.triggerMe('paginationInit');fifa.dispatcher.trigger('analytics:buttonMore');});}});}});}},events:{},name:'editorial:view',model_name:'editorial'});w.views.editorial=new editorialView({bind:['relatedInit','printInit','allRelatedButClick','paginationInit','pagination']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var analyticsModel=fifa.model.extend({initialize:function(options) {fifa.model.prototype.initialize.apply(this,[options]);this.triggerMe('init');},onInit:function() {(function() {$cmpslots=$('div.intcmp');$cmpslots.each(function() {$this=$(this);var cmp=$this.attr('data-intcmp');if(!!cmp) {$links=$this.find('a');$links.on("click",function(e) {var $target=$(e.target);if(!$target.is('a')) {$target=$target.closest('a');}var href=$target.attr('href');if(!(href.endsWith("#"))&&(href.length>0)&&!(href.indexOf("?intcmp=")>=0)) {$target.attr('href',href + '?intcmp=' + cmp);}});}});window.fifa=window.fifa||{};window.fifa.analytics=window.fifa.analytics||{};if(!!window.fifa.analytics.firstTrack==false) {var pagevars=window.fifa.analytics.Page.getActiveVars();if(!!pagevars.playertype) {fifa.dispatcher.trigger('analytics:videoTrack');}if(!!fifa.isThirdParty==false) {window.fifa.analytics.SiteCatalyst.doTrack();}}})();},onDataUpdates:function() {fifa.log('ondataupdates');},getUrl:function(itemobj,$this) {var url=itemobj.url||$this.attr('href');if(url) {if(url.indexOf('http:')===-1) {url=[w.location.protocol,'',w.location.host].join('/') + url;}}return url||w.location.href;},getItemId:function($obj) {if(!$obj.is('a')) {$obj=$obj.find("a").eq(0);}return $obj.attr("model-ref")||$obj.attr("data-ref");},onPageView:function($this) {var _this=this,itemid=_this.getItemId($this),$item=$(itemid).find('script[type="analytics-override"]');var pvars=w.fifa.analytics.Page.getActiveVars();if((!!pvars.trackFromLoaded==false||!!w.fifa.analytics.scrollPageLoading==false)||('#'+ pvars.trackFromLoaded)==itemid) {w.fifa.analytics.scrollPageLoading==true;if($item.length>0) {itemcontent=$item.html().match(/\*([^*]*)\*/)[1];var itemobj=$.parseJSON(itemcontent);itemobj.url=_this.getUrl(itemobj,$this);var pagemodule=w.fifa.analytics.Page;if(typeof pagemodule.getModule(itemid)=='undefined') {var newmodule=w.fifa.analytics.PageModule(itemobj,itemid);pagemodule.addModule(itemid,newmodule);}pagemodule.setCurrentModule(itemid);s=w.s;if(!!s) {var sponsors=w.fifa.analytics.getActiveSponsors("moduleload",itemid);var pageSponsors=w.fifa.analytics.getActiveSponsors();$.extend(sponsors,pageSponsors);delete s.products;for (var skey in sponsors) {var itemobj=sponsors[skey];sid=itemobj.sponsorId||"";sk=itemobj.sponsorKind||"";sa=itemobj.sponsorArea||"";sact=itemobj.sponsorActivation||"";if(sa.length>0) {sa=":" + sa;}if(sact.length>0) {sact=":" + sact;}if(!!itemobj.sponsorId&&!!s.prop11) {var products="" + sid + ":" + s.prop11 + ":" + sk + sa + sact + ";;;event27=1";if(!!s.products==false) {s.products="";}else {s.products=s.products + ",";}s.products=s.products + products;}if(!!s.products&&s.products.length>0) {s.events='event2,event27';}}s.t();}}else {var pagemodule=w.fifa.analytics.Page;if(!!pagemodule) {var pagevars=pagemodule.getActiveVars();if(!!pagevars.trackonpv&&pagevars.trackonpv=='true') {s=w.s;if(!!s) {s.t();}}}}fifa.log('onpageview');}},onTblExpand:function($row,vars) {if(!!vars) {var curr=w.fifa.analytics.Page.getCurrentModule();if(!!curr==false) {curr=w.fifa.analytics.Page;}var old=$.extend(true,{},curr.getVars());for (var key in vars) {curr.setVar(key,vars[key]);}s=w.s;if(!!s) {s.t();}var newvars=curr.getVars();for (var nkey in newvars) {if(!!old[nkey]) {curr.setVar(nkey,old[nkey]);}else {curr.setVar(nkey,null);}}}},onSponsorView:function($item) {if($item.is('a')) {$item=$(this.getItemId($item));}var $sponsor=$item.find('script[type="analytics-sponsorship"]');if(($sponsor).length>0) {(function($sponsor) {var s_account=window.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {itemcontent=$sponsor.html().match(/\*([^*]*)\*/)[1];var itemobj=$.parseJSON(itemcontent);sid=itemobj.sponsorId||"";sk=itemobj.sponsorKind||"";sa=itemobj.sponsorArea||"";sact=itemobj.sponsorActivation||"";if(sa.length>0) {sa=":" + sa;}if(sact.length>0) {sact=":" + sact;}if(!!itemobj.sponsorId&&!!s.prop11) {s.products="" + sid + ":" + s.prop11 + ":" + sk + sa + sact + ";;;event27=1";}s.events='event27';s.linkTrackEvents='event27';s.linkTrackVars=',products,events';s.tl(true,'o','Ad Impression');if(!!s.events) { delete s.events;}if(!!s.products) { delete s.products;}if(!!s.linkTrackEvents) { delete s.linkTrackEvents;}if(!!s.linkTrackVars) { delete s.linkTrackVars;}}})($sponsor);}},onLogin:function(urloverride) {var s_account=window.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {var loginUrl=window.fifa.analytics.Page.getActiveVars().url;if(!!urloverride) {loginUrl=urloverride;}s.eVar36=loginUrl;s.events='event7';s.linkTrackEvents='event7';s.linkTrackVars=',events,eVar36';s.tl(true,'o','User Login');}},onButtonMore:function() {var pagemodule=w.fifa.analytics.Page;var curr=w.fifa.analytics.Page.getCurrentModule();if(!!curr==false) {curr=w.fifa.analytics.Page;}var old=$.extend(true,{},curr.getVars());var next=1;while (!!curr.getVar("subsection" + next)&&(next<10)) {next=next + 1;}if(next==5) {curr.setVar("subsection4",curr.getVar("subsection4") + ":next");}else {curr.setVar("subsection" + next,"next");}s=w.s;if(!!s) {s.t();}fifa.log('onbtnmore');if(next>4) {curr.setVar("subsection4",old.subsection4);}else {curr.setVar("subsection" + next,null);}},onButtonMoreComments:function() {var pagemodule=w.fifa.analytics.Page;var curr=w.fifa.analytics.Page;var old=$.extend(true,{},curr.getActiveVars());var next=1;while (!!curr.getVar("subsection" + next)&&(next<10)) {next=next + 1;}if(next==5) {curr.setVar("subsection4",curr.getVar("subsection4") + ":next");}else {curr.setVar("subsection" + next,"next");}curr.setVar("contenttype","list-comments");s=w.s;if(!!s) {s.t();}fifa.log('onbtnmore');if(next>4) {curr.setVar("subsection4",old.subsection4);}else {curr.setVar("subsection" + next,null);}if(!!old.contenttype) {curr.setVar("contenttype",old.contenttype);}else {curr.deleteVar("contenttype");}},onPhotoView:function(photoId) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};if(!!w.fifa.analytics.firstTrack) {var pagemodule=w.fifa.analytics.Page;var curr=w.fifa.analytics.Page.getCurrentModule();if(!!curr==false) {curr=w.fifa.analytics.Page;}curr.setVar("contenttype","photoid");curr.setVar("contentId",photoId);var s_account=window.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {s.t();}}},onCustomPageView:function(customvars) {amc.on('load',function() {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};if(!!w.fifa.analytics.Page) {var pagemodule=w.fifa.analytics.Page;var curr=w.fifa.analytics.Page.getCurrentModule();if(!!curr==false) {curr=w.fifa.analytics.Page;}var oldvars=$.extend({},curr.getActiveVars());for (var key in customvars) {curr.setVar(key,customvars[key]);}s=w.s;if(!!s) {var s_account=window.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {s.t();for (var okey in oldvars) {curr.setVar(okey,oldvars[okey]);}for (var key in customvars) {if(typeof oldvars[key]==='undefined') {curr.deleteVar(key);}}}}}});},onCustomPageViewOverride:function(custom_s) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};if(!!w.s&&!!custom_s&&typeof custom_s==='object'&&typeof w.fifa.analytics.SiteCatalyst.setCustomVars==='function') {old_s=$.extend({},w.s);w.s.doPlugins=function() {};w.fifa.analytics.SiteCatalyst.setCustomVars(custom_s);w.s.t();w.s=old_s;}},onCustomEvent:function(eventName,customvars) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};var s_account=w.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {if(!!s&&!!custom_s&&typeof custom_s==='object'&&typeof w.fifa.analytics.SiteCatalyst.setCustomVars==='function'&&!!eventName) {for (var key in custom_s) {s[key]=custom_s[key];}s.tl(true,'o',eventName);}}},onShare:function(socialMedia) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};var s_account=w.fifa.analytics.SiteCatalyst.account||"";var s=w.s||s_gi(s_account);if(!!s&&socialMedia) {var old_s={};old_s.linkTrackVars=s.linkTrackVars;s.linkTrackVars='eVar5,eVar7,eVar49,events';old_s.linkTrackEvents=s.linkTrackEvents;s.linkTrackEvents='event26';old_s.events=s.events;s.events='event26';old_s.eVar49=s.evar49;s.eVar49=socialMedia;s.tl(true,'o','Social Media Sharing');for (var key in old_s) {s[key]=old_s[key];}}},onDownload:function() {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};var s_account=w.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {var old_s={};old_s.events=s.events;s.events="event9";old_s.linkTrackEvents=s.linkTrackEvents;s.linkTrackEvents='event9';s.tl(true,'d','File Download');for (var key in old_s) {s[key]=old_s[key];}}},onVideoTrack:function(duration,player) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.Page=w.fifa.analytics.Page||{};var pagevars=w.fifa.analytics.Page.getActiveVars();if(!!pagevars&&!!pagevars.playertype) {if(pagevars.playertype=="External Player") {fifa.dispatcher.trigger('analytics:videoStart',0,pagevars.playertype);}}},onVideoStart:function(duration,player) {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.Page=w.fifa.analytics.Page||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};var s_account=w.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {var pagevars=w.fifa.analytics.Page.getActiveVars();if(!!pagevars) {var old_s={};old_s.events=s.events;if(!!pagevars.mediatitle) {s.events="event12";s.prop42=player + ' - ' + pagevars.contentId + ' - ' + pagevars.lang + ' - ' + pagevars.mediatitle;s.eVar42=s.prop42;}}}},onCommentSubmit:function() {w.fifa=w.fifa||{};w.fifa.analytics=w.fifa.analytics||{};w.fifa.analytics.SiteCatalyst=w.fifa.analytics.SiteCatalyst||{};var s_account=w.fifa.analytics.SiteCatalyst.account||"";var s=s_gi(s_account);if(!!s) {var old_s={};old_s.events=s.events;s.events="event23";old_s.linkTrackEvents=s.linkTrackEvents;s.linkTrackEvents='event23';s.tl(true,'o','comment submission');for (var key in old_s) {s[key]=old_s[key];}}},name:'analytics'});w.models.analytics=new analyticsModel({bind:['init','dataUpdates','pageView','tblExpand','sponsorView','login','buttonMore','photoView','customPageView','customPageViewOverride','customEvent','share','download','commentSubmit','buttonMoreComments','videoStart','videoTrack']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var historyModel=fifa.model.extend({has_pushed:false,has_popped:false,first_state:null,initialize:function(options) {var _this=this;fifa.model.prototype.initialize.apply(_this,[options]);_this.first_state=History.getState();History.Adapter.bind(w,'statechange',function(e) {var state=History.getState();_this.triggerMe('stateChange',state);if(state.cleanUrl===_this.first_state.cleanUrl) {var idx=History.getCurrentIndex();for (var i=0; i<=idx; i++) {History.discardState(History.getStateByIndex(i));}}});History.Adapter.bind(w,'popstate',function(e) {var e_result=e.result;if(w.location.hash.length) {e_result=true;}if(_this.has_pushed||!e_result) { _this.has_pushed=false; return;}_this.has_popped=true;History.discardState(History.getState());});},onPushState:function(data,title,url) {var _this=this;if(_this.has_popped) { _this.has_popped=false; return;}_this.has_pushed=true;if(url.indexOf('#')===0) {return;}History.pushState(data,title,url);},name:'history'});w.models.history=new historyModel({ bind:['stateChange','pushState']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var watchdogModel=fifa.model.extend({initialize:function(options) {fifa.model.prototype.initialize.apply(this,[options]);var body=d.getElementsByTagName('body')[0],watchdogAttr=body.getAttribute('data-watchdog'),watchdogIntervalAttr=body.getAttribute('data-watchdoginterval')||10000,pathname=w.location.pathname,ts_path;if(!watchdogAttr) { return;}ts_path=['/live/common/watchdogs',pathname].join('').replace('.html','/_ts.js');if(watchdogAttr!=='true') {pathname=watchdogAttr;}this.triggerMe('alert',ts_path,pathname,watchdogIntervalAttr);},_tm:null,_lastData:null,onAlert:function(ts_path,pathname,interval) {var _this=this;if(_this._tm) { clearTimeout(_this._tm);}_this._tm=setTimeout(function(s) {clearTimeout(s);$.ajax({type:'get',dataType:'html',url:ts_path.withIgn(),success:function(data) {if(!_this._lastData) { _this._lastData=data;}if(_this._lastData===data) {_this.triggerMe('alert',ts_path,pathname,interval);return;}var rndTimeout=0;while ((rndTimeout=parseInt(Math.random() * (interval / 2)))===0) {}setTimeout(function() {window.location.href=pathname.withIgn();},rndTimeout);}});},interval);},name:'watchdog'});w.models.watchdog=new watchdogModel({bind:['alert']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var moduleModel=fifa.model.extend({initialize:function(options) {var _this=this;fifa.model.prototype.initialize.apply(_this,[options]);},scrollspyOnItemChange:function($this) {this.triggerView('itemSearch',$this);},scrollspyOnItemSet:function() {this.triggerView('itemSearch');},scrollspyOnHistoryPush:function($this) {var _this=this,ref=$this.attr('model-ref'),cache_key=['ref',ref].join('.'),seo_cache_key=[cache_key,'seooverride'].join('.'),$ref=fifa.cacheMap.get(cache_key)||fifa.cacheMap.set(cache_key,$(ref));$ref_seo=(fifa.cacheMap.get(seo_cache_key)||fifa.cacheMap.set(seo_cache_key,$ref.find('script[type="seo-override"]')));_this.triggerView('seoFound',$ref,$ref_seo);},defaults:{first:(function() {return w.fifa.cacheMap.get('module_first')||w.fifa.cacheMap.set('module_first',$('.module:first'));}()),modules:$('.module')},name:'module',view_name:'module:view'});w.models.module=new moduleModel({bind:['itemSearch','itemFound','scrollspy:itemChange','scrollspy:itemSet','scrollspy:historyPush']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var moduleView=fifa.view.extend({folder:null,$ajaxcontent:null,$head:null,timeout:250,default_head:null,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.$head=$('head');_this.triggerMe('init');},onInit:function() {var _this=this,pathname=w.location.pathname;_this.folder=pathname.substring(0,pathname.lastIndexOf('/') + 1);_this.$ajaxcontent=_this.$el.filter('.ajax-loader');_this.default_head=d.getElementsByTagName('head')[0].innerHTML;},onItemLoad:function($module,timeout) {var _this=this,$obj=$module.find('.inner[data-url]'),href=$obj.attr('data-url'),$parent=$obj.parent();var xhr,idx=$obj.closest('.row').index() - 1;_this.$ajaxcontent.find('.inner:not(.loaded)').closest('.row:lt(' + idx + ')').find('.ajax-loader .inner').each(function() {xhr=$(this).removeClass('loading').data('xhr');if(xhr) {xhr.abort();xhr=null;}});if($obj.hasClass('loading')||$obj.hasClass('loaded')) { return;}timeout=timeout||10;$obj.addClass('loading');if(!href) {$obj.attr('missing-data-url','true');return;}setTimeout(function(s) {clearTimeout(s);if($obj.data('xhr')) {$obj.data('xhr').abort();}$obj.data('xhr',$.ajax({type:'get',url:href.withIgn(),dataType:'html',success:function(data) {$obj.removeClass('loading').addClass('loaded').html(data);$parent.removeClass('ajax-loader');$obj.data('xhr',null);_this.triggerMe('itemLoaded',$obj);}}));},timeout);},onItemSearch:function($this) {var _this=this,count_visible=0;_this.$ajaxcontent.not('.loading,.loaded').each(function() {if(fifa.isElementVisible(this)) {count_visible++;timeout=(count_visible * _this.timeout) - _this.timeout;_this.triggerMe('itemLoad',$(this),timeout);}});if($this&&$this.length) {if(!$this.is('a')) {$this=$this.find('a');}var $ref=$($this.attr('model-ref')),$ajax_loader=$ref.filter('.ajax-loader').not('.loading .loaded');if($ref.length) {_this.triggerMe('itemFound',$ref);}if($ajax_loader.length) {count_visible++;timeout=(count_visible * _this.timeout) - _this.timeout;_this.triggerMe('itemLoad',$ajax_loader,timeout);}}},onItemFound:function($item) {this.triggerModel('itemFound',$item);},onSeoFound:function($ref,$seo) {var _this=this,seo_content,node_name,link_rel,title,meta_name,meta_property,meta_content,$meta;if($seo.length>0) {seo_content=$seo.html().match(/\*([^*]*)\*/)[1];}else {seo_content=_this.default_head;}seo_content=seo_content.trim();$(seo_content).each(function() {node_name=this.nodeName;switch (node_name) {case 'META':meta_content=this.getAttribute('content');meta_name=this.getAttribute('name');meta_property=this.getAttribute('property');if(meta_name) {if(($meta=$('meta[name="' + meta_name + '"]')).length) {if($meta.attr('content')!=meta_content) {$meta.attr('content',meta_content);}}else {_this.$head.append('<meta name="' + meta_name + '" content="' + meta_content + '"/>');}}else if(meta_property) {if(($meta=$('meta[property="' + meta_property + '"]')).length) {if($meta.attr('content')!=meta_content) {$meta.attr('content',meta_content);}}else {_this.$head.append('<meta property="' + meta_property + '" content="' + meta_content + '"/>');}}break;case 'TITLE':title=this.text;if(title&&title.length>0) {_this.$head.find('title').text(title);$ref.attr('data-title',title);}break;case 'LINK':link_rel=this.getAttribute('rel');if(link_rel&&link_rel==='canonical') {_this.$head.find('link[rel="canonical"]').attr('href',this.getAttribute('href'));}break;}});},coreOnReinit:function() {var _this=this;_this.setElement(__cfg.el);_this.triggerMe('init');},name:'module:view',model_name:'module'}),__cfg={el:'.module',bind:['init','itemSearch','itemLoad','itemLoaded','itemFound','seoFound','core:reinit']};w.views.module=new moduleView(__cfg);}(window.jQuery||window.jm,window,document));;(function($,w,d) {var headerModel=fifa.model.extend({initialize:function(options) {fifa.model.prototype.initialize.apply(this,[options]);},name:'header',view_name:'header:view'});w.models.header=new headerModel();}(window.jQuery||window.jm,window,document));;(function($,w,d) {var headerView=fifa.view.extend({page:null,$wrap:null,$sitesUrlList:null,sitesUrl:null,$contextPathUrlList:null,contextPathUrls:null,$langListItems:null,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.$sitesUrlList=$('#sitesUrlList');_this.$contextPathUrlList=$('#contextPathJson');if((_this.$sitesUrlList&&_this.$sitesUrlList.length)&&(_this.$contextPathUrlList&&_this.$contextPathUrlList.length)) {_this.sitesUrl=$.parseJSON($.trim(_this.$sitesUrlList.html()));_this.contextPathUrls=$.parseJSON($.trim(_this.$contextPathUrlList.html()));_this.$langListItems=$(".siteh-language-list>li");}},events:{'click':'onNavClick'},onNavClick:function(event) {var _this=this,$this=$(event.currentTarget);if(fifa.isThirdParty&&$this.closest('.siteh-store,.siteh-search').length) { return;}event.preventDefault();var subpanel=$this.attr('data-target');var was_visible=$(subpanel).is(":visible");if(was_visible) {$(".siteh-subpanel:visible").hide();_this.$el.removeClass('active');}else {if(subpanel=="#siteh-lang-subpanel"&&_this.sitesUrl&&_this.contextPathUrls) {_this.$langListItems.each(function(index) {var _idelement=$(this).attr("id");var _id=_idelement.substring(_idelement.length - 1).toLowerCase();var _siteUrl=$.grep(_this.sitesUrl,function(n,i) {if(n.lang==_id) {return true;}});var _contextPath=$.grep(_this.contextPathUrls,function(n,i) {if(n.lang==_id) {return true;}});if(_siteUrl.length>0&&_contextPath.length>0) {$('#' + _idelement + '>a').attr('href',_siteUrl[0].url + _contextPath[0].url);}});}_this.$el.removeClass('active');$(".siteh-subpanel:visible").hide();$this.addClass('active');$(subpanel).show();if(subpanel=='#siteh-search-subpanel') {$(subpanel).find('#q')[0].focus();}}},onElementAdd:function($elm) {if(!$elm) { return;}this.setElement(this.$el.add($elm));},coreOnReinit:function() {this.setElement(__cfg.el);},name:'header:view',model_name:'header'}),__cfg={el: '.siteh-lang a,.siteh-search a,.siteh-tc a,.siteh-sticky a,.siteh-close-subpanel,.navbar-site-toggle,.stickylink a',bind:['elementAdd','core:reinit']};$(d).ready(function() {w.views.header=new headerView(__cfg);});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var menuModel=fifa.model.extend({initialize:function(options) {var _this=this;fifa.model.prototype.initialize.apply(_this,[options]);},name:'menu',view_name:'menu:view'});w.models.menu=new menuModel({bind:['menuItemTouch','menuItemExit','menuItemEnter']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {$(document).on('click',function(ev) {});$(document).on('touchend',function(ev) {if($('.megamenu-container').has(ev.target).length>0) {return;}$('.nav-pills li').removeClass('menu-shown');$(".megamenu-wrap:visible").hide();});$('.megamenu-group').click(function() {location.href=$('.megamenu-group-name a:first',$(this)).attr('href');});var __megamenu_delay_test=false;var __megamenu_open_delay=false;var __megamenu_delay_msec=500;var __megamenu_last_ref_shown=null;var isTouch=((/ipad|iphone|android|hp-tablet/gi).test(navigator.appVersion));var event_to_bind=isTouch ? 'touchend li[class^="menu-"]':'click li[class^="menu-"]';var event_to_ignore=isTouch ? 'touchend li[class^="menu-"] ul':'click li[class^="menu-"] ul';var event_to_follow=isTouch ? 'touchend li[class^="menu-"] ul a':'click li[class^="menu-"] ul a';var event_mouse_enter='mouseenter li[class^="menu-"]';var event_mouse_leave='mouseleave li[class^="menu-"]';var function_to_bind=isTouch ? 'onItemTouch':'onItemMouse';var function_to_ignore=isTouch ? 'onIgnoreItemTouch':'onIgnoreItemMouse';var function_to_follow=isTouch ? 'onItemFollowTouch':'onItemFollowMouse';var function_mouse_enter='onItemMouseEnter';var function_mouse_leave='onItemMouseExit';var __megamenu_timer=setTimeout(function() {},1000);var _o={ref_re:new RegExp(/menu-[\d]*-([\w]*)/gi),initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('init');var _snapper=null;},events:{},onInit:function() {var _this=this;_this.triggerMe('searchItem',_this.$el.find('a[href!="#"]'),w.location.pathname);},onItemMouseExit:function(event) {event.preventDefault();__megamenu_open_delay=false;var prefix=this.get$Prefix($(event.currentTarget));var _this=this,$this=$(event.currentTarget);__megamenu_delay_test=true;setTimeout(function() {if(__megamenu_delay_test) {__megamenu_delay_test=false;$("." + prefix + "-wrap:visible").hide();$('.nav-pills li').removeClass('menu-shown');__megamenu_last_ref_shown=null;}},50);_this.triggerModel("menuItemExit",event);},onItemMouseEnter:function(event) {var _this=this;__megamenu_delay_test=false;event.preventDefault();var $this=$(event.currentTarget),$prefix=_this.get$Prefix($this),$ref=_this.get$Ref($this,$prefix),$destclass=_this.getDest($this,$prefix);$ref.off('mouseleave');clearTimeout(__megamenu_timer);if(!$ref.length) {$('.nav-pills li').removeClass('menu-shown');$("." + $prefix + "-wrap:visible").hide();return;}if($ref.is(":visible")) {return;}$("." + $prefix + "-wrap:visible").hide();var nsh=!($this.hasClass('menu-shown'));$('.nav-pills li').removeClass('menu-shown');if(nsh) {__megamenu_open_delay=true;var _d=__megamenu_delay_msec;if(__megamenu_last_ref_shown==$destclass)_d=0;if(_d>0) {__megamenu_timer=setTimeout(function() { _this.openIt($this,$destclass,$ref,$prefix);},_d);}else {_this.openIt($this,$destclass,$ref,$prefix);}}_this.triggerModel("menuItemEnter",event);},openIt:function(_t,_d,_r,_p) {if(!__megamenu_open_delay)return;_t.addClass('menu-shown');__megamenu_last_ref_shown=_d;_r.show().on('mouseleave',function(event) {event.stopPropagation();$('.nav-pills li').removeClass('menu-shown');$("." + _p + "-wrap").hide();}).on('mouseenter',function(event) { __megamenu_delay_test=false;});},onItemMouse:function(event) {},onItemTouch:function(event) {event.stopPropagation();event.preventDefault();var _this=this,$this=$(event.currentTarget),$prefix=_this.get$Prefix($this),$ref=_this.get$Ref($this,$prefix);if(!$ref.length) {$('.nav-pills li').removeClass('menu-shown');$("." + $prefix + "-wrap:visible").hide();return false;}if($ref.is(":visible")) {$this.removeClass('menu-shown');$ref.hide();_this.triggerModel("menuItemTouch",event);return false;}$("." + $prefix + "-wrap:visible").hide();var nsh=!($this.hasClass('menu-shown'));$('.nav-pills li').removeClass('menu-shown');if(nsh) {$this.addClass('menu-shown');$ref.show();}_this.triggerModel("menuItemTouch",event);return false;},onIgnoreItemTouch:function(event) {event.stopPropagation();event.preventDefault();},onIgnoreItemMouse:function(event) {event.stopPropagation();event.preventDefault();},onItemFollowTouch:function(event) {var href=$(event.currentTarget).closest("a").attr("href");window.location=href;},onItemFollowMouse:function(event) {var href=$(event.currentTarget).closest("a").attr("href");window.location=href;},get$Ref:function($this,prefix) {var _this=this;_this.ref_re.lastIndex=0;var ref_exec=_this.ref_re.exec($this.attr('class')),ref_name=ref_exec ? ref_exec[1]:null;return ref_name ? $('.' + prefix + '-menu-' + ref_name):[];},getDest:function($this,prefix) {var _this=this;_this.ref_re.lastIndex=0;var ref_exec=_this.ref_re.exec($this.attr('class')),ref_name=ref_exec ? ref_exec[1]:null;return ref_name ? ('.' + prefix + '-menu-' + ref_name):'';},get$Prefix:function($this) {var prefix=$this.parent(".nav-pills").attr("menu-prefix")||"megamenu";return prefix;},onSearchItem:function($items,path) {var _this=this,path_with_index=path + (path[path.length - 1]==='/' ? '':'/') + 'index.html',$filtered_items=$items.filter(['[href="',path,'"],[href="',path_with_index,'"],[data-alias="',path,'"],[data-alias="',path_with_index,'"]'].join('')),exclude_path=w.location.pathname;$filtered_items.filter('[data-exclude]').each(function() {var dataExclude=this.getAttribute('data-exclude');if(exclude_path.indexOf(dataExclude)===0) {$filtered_items=$filtered_items.not(this);}});if($filtered_items.length) {if(!$filtered_items.closest('ul').find('.active').length) {$filtered_items.closest('li').addClass('active');_this.triggerMe('itemFound',$filtered_items);}}if(path.length>0) {_this.triggerMe('searchItem',$items,path.substring(0,path.lastIndexOf('/')));}},coreOnReinit:function() {var _this=this;_this.setElement(__cfg.el);_this.triggerMe('init');},name:'menu:view',model_name:'menu'};_o.events[event_to_bind]=function_to_bind;_o.events[event_to_ignore]=function_to_ignore;_o.events[event_to_follow]=function_to_follow;if(!isTouch) {_o.events[event_mouse_enter]=function_mouse_enter;_o.events[event_mouse_leave]=function_mouse_leave;}var menuView=fifa.view.extend(_o),__cfg={el:'.nav-pills',bind:['init','searchItem','core:reinit']};w.views.menu=new menuView(__cfg);}(window.jQuery||window.jm,window,document));;(function($,w,d) {var footerModel=fifa.model.extend({initialize:function(options) {fifa.model.prototype.initialize.apply(this,[options]);},name:'footer',view_name:'footer:view'});w.models.footer=new footerModel();}(window.jQuery||window.jm,window,document));;(function($,w,d) {var footerView=fifa.view.extend({page:null,$wrap:null,isThirdParty:false,initialize:function(options) {var _this=this,pathname=w.location.pathname;_this.isThirdParty=d.getElementById('thirdparty')!=null;fifa.view.prototype.initialize.apply(_this,[options]);$(".sitef-platform").removeClass("hidden");},events:{'click':'onFooterClick'},onFooterClick:function(event) {var _this=this,$this=$(event.currentTarget);if(_this.isThirdParty&&$this.closest('.siteh-store,.siteh-search').length) { return;}event.preventDefault();console.log($this);if($this.data('target')=="#sitef-platform-gotomobile") {this.goToMobileVersion();}if($this.data('target')=="#sitef-platform-gotodesktop") {this.goToDesktopVersion();}},getPlatformUrl:function(platform) {var currentLang="E";var metaTags=document.getElementsByTagName("meta");var platformUrl=$("meta[name='mobileRedirectUrl']").attr("content");if(!platformUrl||(platformUrl=="")) {platformUrl=w.location.pathname;}var sitesUrlJSON=$.parseJSON($.trim($('#sitesUrlList').html()));var baseUrlObj=$.grep(sitesUrlJSON,function(n,i) {if(n.lang.toLowerCase()==currentLang.toLowerCase()&&n.platform.toLowerCase()==platform.toLowerCase()) {return true;}});var baseUrl=baseUrlObj[0].url;platformUrl=baseUrl + platformUrl;return platformUrl;},goToDesktopVersion:function() {var desktopUrl=this.getPlatformUrl("desktop");if(desktopUrl!=window.location) {desktopUrl += "?preferredPlatform=desktop";window.location=desktopUrl;}},goToMobileVersion:function() {var mobileUrl=this.getPlatformUrl("mobile");if(mobileUrl!=window.location) {mobileUrl += "?preferredPlatform=mobile";window.location=mobileUrl;}},name:'footer:view',model_name:'footer'});w.views.footer=new footerView({el:'.sitef-platform a'});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var loginModel=fifa.model.extend({initialize:function(options) {fifa.model.prototype.initialize.apply(this,[options]);},name:'login',view_name:'login:view'});w.models.login=new loginModel();}(window.jQuery||window.jm,window,document));;(function($,w,d) {var loginView=fifa.view.extend({screenName:"",userId:0,userEmail:"",userAvatar:"/userdata/{splittedid}/avatar_80.png",bLoggedIn:false,cleanEnabled:true,initialize:function(options) {var _this=this,cookieDomain=".fifa.com";fifa.view.prototype.initialize.apply(_this,[options]);if(cookieDomain!=".fifa.com") {d.cookie='FIFACom=;path=/;domain=.fifa.com;expires=Thu,01 Jan 1970 00:00:01 GMT';d.cookie='FIFAComClub=;path=/;domain=.fifa.com;expires=Thu,01 Jan 1970 00:00:01 GMT';}var host=$("#redirect_uri").val();if(w.location.protocol=='https:') {host='';}var c=Cookie.get("FIFACom");_this.bLoggedIn=false;if(c!=null&&c!==undefined) {try {if(c.toQueryParams().un.length>0) {_this.bLoggedIn=true;}}catch (e) {}}var redirect_url="",qs=w.location.search.toString();qs=qs.replace("?","");qs=qs.split("&");for (i=0; i<qs.length; i++) {temp=qs[i].split("=");if(temp[0].toString()=="redirect") {redirect_url=escape(w.location.protocol + "//" + w.location.host) + temp[1].toString();$("form.f_login_form input.f_redirect_uri").val(redirect_url);}}if(redirect_url=="") {redirect_url=escape(d.URL);}$("form.f_login_form input.f_redirect_uri").val(redirect_url);regurl=$("#noLogged .register>a").attr("href");$("#siteh-link-register").attr("href",regurl + "?action=registration&redirect_uri=" + redirect_url);if(!_this.bLoggedIn) {var redirectUri=$("form.f_fblogin_form input.f_redirect_uri").val()||'';redirectUri=redirectUri.replace("current=current","current=" + w.location.href);$("form.f_fblogin_form input.f_redirect_uri").val(redirectUri);CallbackManager.ApplyCallbacks(_this.model_name,"user-anonymous");}else {CurrentUser.Init();$(".siteh-instructions-notlogged").addClass("hidden");$(".siteh-instructions-logged").removeClass("hidden");$(".siteh-tc-notlogged").addClass("hidden");$(".siteh-tc-logged").removeClass("hidden");var screenNameText=$(".siteh-tc-screenname").html();screenNameText=screenNameText.replace("{screenname}",CurrentUser.screenName);$(".siteh-tc-screenname").html(screenNameText);$(".siteh-tc-label").addClass("hidden");$(".siteh-tc-screenname").removeClass("hidden");if(CurrentUser.hasAvatar=="true") {_this.userAvatar=_this.userAvatar.replace("{splittedid}",splitResourceId(CurrentUser.userId,3));_this.userAvatar="http://img.fifa.com" + _this.userAvatar;$(".siteh-tc-avatar").attr("src",_this.userAvatar);}$("#siteh-tc-userinfo-screenname").html(CurrentUser.screenName);if(Cookie.get("FIFAComSignIn")) {fifa.log("just logged in");CallbackManager.ApplyCallbacks(_this.model_name,"login-success");fifa.dispatcher.trigger('analytics:login');fifa.log("analytics:login triggered");Cookie.erase("FIFAComSignIn");}CallbackManager.ApplyCallbacks(_this.model_name,"user-logged");if(w.fifa.analytics.Page) {var usermodule=w.fifa.analytics.PageModule(CurrentUser);w.fifa.analytics.Page.addModule("user",usermodule);}}},signIn:function(e) {$target=$(e.target);if(!($target.is('.login-signin-btn')||$target.closest('.login-signin-btn').length)) {return;}e.preventDefault();$form=$target.closest("form");if(!$form.length) { return;}$form.submit();},filterOnKeyPress:function(e) {if(e.keyCode!=13) { return;}this.signIn(e);},logOut:function(e) {var _this=this,$target=$(e.target);if(!($target.is('#siteh-theclub-logout')||$target.closest('#siteh-theclub-logout').length)) {return;}Cookie.erase('FIFACom');Cookie.erase('FIFAComClub');Cookie.erase('fc_lg');Cookie.erase('warned');_this.bLoggedIn=false;$(".siteh-instructions-notlogged,.siteh-tc-notlogged,.siteh-tc-label").removeClass("hidden");$(".siteh-instructions-logged,.siteh-tc-logged,.siteh-tc-screenname").addClass("hidden");$("#siteh-tc-subpanel").hide();CallbackManager.ApplyCallbacks(_this.model_name,"user-logout");},pageViewOnLoginReinit:function() {this.setElement(__cfg.el);var redirect_url=escape(d.URL);$("form.f_login_form input.f_redirect_uri").val(redirect_url);regurl=$("#noLogged .register>a").attr("href");$("#siteh-link-register").attr("href",regurl + "?action=registration&redirect_uri=" + redirect_url);},events:{'click .login-signin-btn':'signIn','click #siteh-theclub-logout':'logOut','keypress input':'filterOnKeyPress'},name:'login:view',model_name:'login'}),__cfg={el:'#siteh-tc-subpanel,.siteh-tc-login',bind:['page:view:loginReinit']};$(d).ready(function() {w.views.login=new loginView(__cfg);});}(window.jQuery||window.jm,window,document));;var smartAppBanner={init:function() {var _this=this;var device='';var c=this.getCookie();var appids=this.getAppIdsFromMeta();if(appids) {if(!c) {var dataLib='/library/commonblocks/smartappban.html';this.getAppData(dataLib,function(data) {if(!data||(data.indexOf("urlmapper_Errors")!=-1)) {data='{ "article":{ "title":"FIFA","summary":"FREE","body":"#instore#"}}';}var jdata=JSON.parse(data);if(jdata.article) {var appData=jdata.article;device=_this.getDeviceType();var useNativeIosBanner=_this.isIosBannerNative();var description=appData.body.toString();var url='#';if(device==='ios'||(device==='ios_new'&&!useNativeIosBanner)) {description=description.replace('#instore#',fifa.vocManager.translate('inAppStore'));url="https://itunes.apple.com/us/app/id" + appids.ios;}else if(device==='android') {description=description.replace('#instore#',fifa.vocManager.translate('inGooglePlay'));url="https://play.google.com/store/apps/details?id=" + appids.android;}else return;_this.createBanner(device,appData.title,appData.summary,description,url);}});}}},createBanner:function(device,appName,author,description,href) {var html ='<div class="container">'+ '<a id="sabClose" class="close" href="#">×</a>'+ '<span class="icon"></span>'+ '<div class="info">'+ ' <strong>' + appName + '</strong>'+ ' <span>' + author + '</span>'+ ' <span>' + description + '</span>'+ '</div>'+ '<a class="button" href="' + href + '">'+ ' <span>View</span>'+ '</a>'+ '</div>';var banner=document.createElement('div');banner.setAttribute('id','smartAppBanner');banner.setAttribute('class',device==='ios_new' ? 'ios':device);banner.innerHTML=html;document.body.appendChild(banner);var htmlTag=document.getElementsByTagName("html")[0];var htmlStyle=htmlTag.getAttribute('style');if(htmlStyle==null) htmlStyle='';htmlTag.setAttribute('style','margin-top:80px;' + htmlStyle);var closeButton=document.getElementById('sabClose');closeButton.onclick=function() {smartAppBanner.disposeBanner();};},getCookie:function() {var cookie=Cookie.get('smapban');return cookie;},setCookie:function() {Cookie.set('smapban','1','','/');},disposeBanner:function() {this.setCookie();var banner=document.getElementById('smartAppBanner');document.body.removeChild(banner);var htmlTag=document.getElementsByTagName("html")[0];var htmlStyle=htmlTag.getAttribute('style');htmlTag.setAttribute('style',htmlStyle.replace('margin-top:80px;',''));},getDeviceType:function() {var agent=navigator.userAgent;if((/\(iPhone;|\(iPod;|\(iPad;/).test(agent)) { var model=(/Mobile\/([a-zA-Z0-9]*)/).exec(agent)[1];var version=parseInt((/([0-9]*)[a-zA-Z]/).exec(model)[1]);var isSafari=(/Version\/([a-zA-Z0-9]*)/).exec(agent)!=null;isSafari=isSafari&&Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor')>0;if(version<10||!isSafari) { return 'ios';}else {return 'ios_new';}}else if((/Android/).test(agent)) {return 'android';}},isIosBannerNative:function() {var iosMeta=getMetaContent('apple-itunes-app');if(iosMeta.length>0) { return true;}return false;},getAppIdsFromMeta:function() {var appids={ ios:'',android:''};var iosContent=getMetaContent('apple-itunes-app');if(iosContent.length===0) {iosContent=getMetaContent('apple-itunes-app-js');}var androidContent=getMetaContent('google-play-app');if(iosContent.length>0) {appids.ios=parseContent(iosContent,'app-id');}else return;if(androidContent.length>0) {appids.android=parseContent(androidContent,'app-id');}else return;return appids;},getAppData:function(url,callback) {var xmlhttp;if(window.XMLHttpRequest) {xmlhttp=new XMLHttpRequest();}else {xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}xmlhttp.onreadystatechange=function() {if(xmlhttp.readyState==4&&xmlhttp.status==200) {callback(xmlhttp.responseText);}};xmlhttp.open("GET",url,true);xmlhttp.send();}};function parseContent(content,attrName) {var regexp=new RegExp(attrName + '=([0-9a-zA-Z\.]*),?');if(regexp.test(content)) {return regexp.exec(content)[1];}else return;}function getMetaContent(propName) {var metas=document.getElementsByTagName('meta');for (i=0; i<metas.length; i++) {if(metas[i].getAttribute('name')==propName) {return metas[i].getAttribute('content');}}return '';}window.onload=function() {console.log("onload");smartAppBanner.init();};(function(w,d) {fifa=w.fifa||{};CommentManager=(function(params) {var _cfg;function init(_params,activate) {var _defaults={"containerid":"","containerclass":"c_comments","commentsContainerClass":"c_comments_cnt","formMainContainerClass":"mainReplyForm","formReplyContainerClass":"replyForm","repliesContainerClass":"c_replies","repliesControlClass":"c_repliesControl","loginControlClass":"mainLoginControl","facebookButtonClass":"facebookButton","titleClass":"title-wrap","template":{"voc":{},"title":"<div class=\"title-wrap\"><h3 class=\"title\">Comments</h3></div>","module":"<div class=\"mainReplyForm\" style=\"display:none;\"></div><div class=\"mainLoginControl\" style=\"display:none;\"><div class=\"loginToAddComment\">Log-in%20to%20add%20your%20comment</div><div class=\"loginfifaButton\"><a href=\"[loginPath]\">Log-in%20with%20FIFA.com%20account</a></div></div><div style=\"display:none;\" class=\"c_noCommentsMsg\">Be%20the%20first%20to%20comment</div><div class=\"c_comments_cnt\"></div><div class=\"morecomments\"><span class=\"btn-more\">More%20Comments<\span><\div>","comment":"<div id=\"c_[commId]\" data-id=\"[commId]\" class=\"comment parentcomment\"><div class=\"avatarComment\" title=\"[visitorScreenName]\"><a href=\"[urlProfile]\" alt=\"[visitorScreenName]\"><img src=\"[avatarNormal]\" alt=\"[visitorScreenName]\" class=\"avatarContainer80\"></a></div><div class=\"commentTextWrap\"><div class=\"dateComment\"><span>[dateComment]</span></div><div class=\"nickname\" title=\"[visitorScreenName]\"><span data-href=\"[urlProfile]\" data-alt=\"[visitorScreenName]\"><strong>[visitorScreenName]</strong></span><span dir=\"ltr\">&nbsp;([CountryCode])</span></div><div id=\"u_[visitorId]_[commId]\" class=\"usercomment\"><span>[comm]</span></div><div class=\"c_repliesControl\"><div><span class=\"btnG btn_doReply\" style=\"display:none;\">reply</span></div><div class=\"c_olderReplies c_olderRepliesClosed\" style=\"display:none;\">Show%20older%20replies</div><div class=\"c_olderReplies c_olderRepliesOpened\" style=\"display:none;\">Hide%20older%20replies</div></div><div class=\"replyForm\" id=\"reply_[commId]\" style=\"display:none;\"></div></div><div class=\"c_replies\"></div></div>","reply":"<div class=\"childWrapper replyWrap\" style=\"display:none;\"><div id=\"c_[commId]\" data-id=\"[commId]\" class=\"comment replycomment\"><div class=\"avatarComment\" title=\"[visitorScreenName]\"><a href=\"[urlProfile]\" alt=\"[visitorScreenName]\"><img src=\"[avatarNormal]\" alt=\"[visitorScreenName]\" class=\"avatarContainer50\"></a></div><div class=\"replyTextWrap\"><div class=\"dateComment\"><span>[dateComment]</span></div><div class=\"nickname\" title=\"[visitorScreenName]\"><span data-href=\"[urlProfile]\" data-alt=\"[visitorScreenName]\"><strong>[visitorScreenName]</strong></span><span dir=\"ltr\">&nbsp;([CountryCode])</span></div><div id=\"u_[visitorId]_[commId]\" class=\"usercomment\"><span>[comm]</span></div></div></div></div>","fakereply":"<div class=\"childWrapper\" style=\"display:none;\"><div id=\"c_[commId]\" data-id=\"[commId]\" class=\"comment replycomment fake\"><div class=\"avatarComment\" title=\"[visitorScreenName]\"><a href=\"[urlProfile]\" alt=\"[visitorScreenName]\"><img src=\"[avatar]\" alt=\"[visitorScreenName]\" class=\"avatarContainer50\"></a></div><div class=\"replyTextWrap\"><div class=\"dateComment\"><span>[now]</span></div><div class=\"nickname\" title=\"[visitorScreenName]\"><span data-href=\"[urlProfile]\" data-alt=\"[visitorScreenName]\"><strong>[visitorScreenName]</strong></span><span dir=\"ltr\">&nbsp;([Country])</span></div><div id=\"u_[visitorId]_[commId]\" class=\"usercomment\"><span>[comm]</span></div></div></div></div>","form":"<div class=\"replywrapper\"><div class=\"avatarComment\" title=\"[visitorScreenName]\"><a href=\"[urlProfile]\" alt=\"[visitorScreenName]\"><img src=\"[avatar]\" class=\"avatarContainer80\"></a></div><div class=\"usercountertop\"><div class=\"visitorname\">[visitorScreenName] ([Country])</div><div class=\"c_countWords\"><span class=\"c_count_label\">Word%20count%3A</span><span class=\"c_count\"></span></div></div><form method=\"post\" action=\"x\" id=\"f_comment\" name=\"f_comment\" class=\"emailForm\"><div class=\"commentsIC\"><div id=\"d_comment\"><textarea class=\"txtAreaComment\" id=\"c_comment\" name=\"c_comment\" value=\"\" rows=\"5\" onload=\"fifa.utils.commentLimit(this)\" onkeypress=\"fifa.utils.commentLimit(this)\" onkeyup=\"fifa.utils.commentLimit(this)\" onkeydown=\"fifa.utils.commentLimit(this)\" onblur=\"fifa.utils.commentLimit(this)\" onfocus=\"fifa.utils.commentLimit(this)\"></textarea><div class=\"addAnotherWrapper\"><span class=\"btnG btn_sendComment\" id=\"btn_sendComment\">Send<\span></div></div></form></div>","replyform":"<div class=\"replywrapper\"><div class=\"avatarComment\" title=\"[visitorScreenName]\"><a href=\"[urlProfile]\" alt=\"[visitorScreenName]\"><img src=\"[avatar]\" class=\"avatarContainer80\"></a></div><div class=\"usercountertop\"><div class=\"visitorname\">[visitorScreenName] ([Country])</div><div class=\"c_countWords\"><span class=\"c_count_label\">Word%20count%3A</span><span class=\"c_count\"></span></div></div><form method=\"post\" action=\"x\" id=\"f_comment_[commId]\" name=\"f_comment\" class=\"emailForm\"><div class=\"commentsIC\"><div id=\"d_comment\"><textarea class=\"txtAreaComment\" id=\"c_comment_[commId]\" name=\"c_comment\" value=\"\" rows=\"5\" onload=\"fifa.utils.commentLimit(this)\" onkeypress=\"fifa.utils.commentLimit(this)\" onkeyup=\"fifa.utils.commentLimit(this)\" onkeydown=\"fifa.utils.commentLimit(this)\" onblur=\"fifa.utils.commentLimit(this)\" onfocus=\"fifa.utils.commentLimit(this)\"></textarea><div class=\"addAnotherWrapper\"><span class=\"btnG btn_sendComment\" id=\"btn_sendComment\">Send<\span></div></div></form></div>","anotherCommentButton":"<div class=\"addAnotherWrapper\"><span class=\"btnG btn_doReply\">Add%20another%20comment</span></div>","repliescount":"<span class=\"c_repliesCount\">[numreplies] replies</span>","noCommentsMessage":"<span class=\"c_noCommentsMsg\">Be%20the%20first%20to%20comment</span>","closedMessage":"<div class=\"closedcomments\"><span class=\"btn-more\">Comments%20are%20closed<\span><\div>"},"keysVisible":[],"keysLoaded":[],"countVisible":0,"currentPage":0,"currentLoad":0,"commentsLoaded":{},"countLoaded":0,"ordercounter":0,"countPerPage":20,"totalComments":null,"totalParents":null,"moreClass":"morecomments","moreText":"More","enableMore":true,"noCommentMsgClass":"c_noCommentsMsg","showRepliesClass":"c_olderRepliesClosed","hideRepliesClass":"c_olderRepliesOpened","onShowReplies":showReplies,"onHideReplies":hideReplies,"isModuleLoaded":false,"onModuleLoaded":onModuleLoaded,"buttonReplyClass":"btn_doReply","replyClass":"replyWrap","formWrapperClass":"replywrapper","commentClass":"parentcomment","onMoreDisabled":disableMore,"onMoreClick":showMore,"onReplyClick":showForm,"onReplySubmit":submitComment,"onLogin":onUserLoggedIn,"onLogout":onUserLoggedOut,"submitView":true,"sendButtonClass":"btn_sendComment","textAreaClass":"txtAreaComment","onSubmitError":onCommentSubmit,"onSubmitSuccess":onCommentSubmit,"sourceFormat":"json","sourcePath":"/library/footballdata/comments/{tcode}/{resourceclass}/{id}/_jsoncomments.html","pagedPath":"/library/footballdata/comments/{tcode}/{resourceclass}/{id}/_jsoncomments{page}.htmx","legacySourcePath":"/newscentre/comment/{splitresourceid}/_jsoncomments.html","legacySourcePagedPath":"/newscentre/comment/{splitresourceid}/_jsoncomments{page}.htmx","loginPath":"/theclub/index.html?redirect=" + document.location.pathname + '#insertcomment',"splittedPath":"","splittedPagedPath":"","postUrl":"/theclub/tools/comment/_comment.htmx","idResource":null,"idResourceClass":null,"idCupSeason":null,"resourceTitle":"","updateCounter":true,"visibleReplies":2,"isEnabled":1};_cfg=function() {var pars;if(typeof (_params)!='undefined') {pars=_params;for (var key in _defaults) {if((typeof pars[key]=='undefined')||pars[key]=='') {pars[key]=_defaults[key];}}}else {pars=_defaults;}return pars;}();if((_cfg.containerid=="")&&(!!_cfg.idResource)) {_cfg.containerid="c_comments_" + _cfg.idResource;}var $container=$("#" + _cfg.containerid);var $logctrl=$container.find("." + _cfg.loginControlClass);var $fbkbtn=$container.find("." + _cfg.facebookButtonClass);module=transformTemplate(_cfg.template.module,{ loginPath:_cfg.loginPath});var $module=$(module);if((!!_cfg.hideTitle)==false) {title=transformTemplate(_cfg.template.title,{});$title=$(title);$container.prepend($title);}$container.append($module);var $commentscnt=$container.find("." + _cfg.commentsContainerClass);var $more=$container.find("." + _cfg.moreClass);if((!!_cfg.enableMore)&&($more.size()>0)&&(typeof _cfg.onMoreClick=='function')) {$more.on("click",function() {_cfg.onMoreClick.call();});}if(!!_cfg.idResourceClass==false) {_cfg.sourcePath=_cfg.legacySourcePath;_cfg.pagedPath=_cfg.legacySourcePagedPath;_cfg.sourcePath=_cfg.sourcePath.replace("{splitresourceid}",splitResourceId(_cfg.idResource,3));_cfg.pagedPath=_cfg.pagedPath.replace("{splitresourceid}",splitResourceId(_cfg.idResource,3));}if((!!_cfg.idCupSeason)&&(!!_cfg.idResourceClass)) {_cfg.sourcePath=_cfg.sourcePath.replace("{tcode}","tcode=" + _cfg.idCupSeason);_cfg.pagedPath=_cfg.pagedPath.replace("{tcode}","tcode=" + _cfg.idCupSeason);}else {_cfg.sourcePath=_cfg.sourcePath.replace("{tcode}/","");_cfg.pagedPath=_cfg.pagedPath.replace("{tcode}/","");}if(!!_cfg.idResourceClass) {_cfg.sourcePath=_cfg.sourcePath.replace("{resourceclass}","resourceclass=" + _cfg.idResourceClass);_cfg.pagedPath=_cfg.pagedPath.replace("{resourceclass}","resourceclass=" + _cfg.idResourceClass);}if(!!_cfg.idResource) {_cfg.sourcePath=_cfg.sourcePath.replace("{id}","id=" + _cfg.idResource);_cfg.pagedPath=_cfg.pagedPath.replace("{id}","id=" + _cfg.idResource);}function disableMore() {_cfg.enableMore=false;var $container=$("#" + _cfg.containerid);$more=$container.find("." + _cfg.moreClass);if($more.size()>0) {$more.hide();}}function loadPage(path,callback) {_path=path;if(!!_path) {$.ajax({url:_path.withIgn(),dataType:"text",success:function(data) {var json=$.parseJSON(data);var newload=json;isnewpage=false;if(!!newload) {for (var key in newload) {if(typeof _cfg.commentsLoaded[key]=='undefined') {_cfg.ordercounter=_cfg.ordercounter + 1;var nkey=key + "-" + _cfg.ordercounter;_cfg.commentsLoaded[nkey]=newload[key];_cfg.commentsLoaded[nkey].commKey=nkey;if(_cfg.totalComments==null&&_cfg.totalParents==null&&(!!newload[key].nComments)&&(!!newload[key].nParentComments)) {_cfg.totalComments=newload[key].nComments;_cfg.totalParents=newload[key].nParentComments;}_cfg.keysLoaded.push(nkey);isnewpage=true;}}if(_cfg.totalParents<=0) {emptymsg=transformTemplate(_cfg.template.noCommentsMessage,{});$emptymsg=$(emptymsg);$container.append($emptymsg);}_cfg.countLoaded=w.fifa.utils.getKeysCount(_cfg.commentsLoaded);if(typeof callback==='function') {callback.call(undefined,isnewpage);}}},error:function(data,textStatus) {switch (textStatus) {case "timeout":break;case "abort":break;case "error":break;default:break;}}});}}function showMore() {if(_cfg.totalParents==null||_cfg.totalParents>_cfg.countVisible) {if(_cfg.countVisible>=(_cfg.countLoaded - _cfg.countPerPage)) {loadPage(_cfg.pagedPath.replace("{page}",",page=" + (_cfg.currentPage + 1)),onPageLoaded);_cfg.currentPage=_cfg.currentPage + 1;}else {onPageLoaded();}}}function showFirstLoad() {loadPage(_cfg.sourcePath,onPageLoaded);}function onPageLoaded(isnewpage) {countvisible=_cfg.countVisible;newload=_cfg.currentLoad + 1;newvisible=(newload) * _cfg.countPerPage;if(_cfg.countLoaded<newvisible) {newvisible=_cfg.countLoaded;}toshow=_cfg.keysLoaded.slice(countvisible,newvisible - 1);var oldvisible=_cfg.countVisible;for (var ikey=0; ikey<toshow.length; ikey++) {key=toshow[ikey];var comm=_cfg.commentsLoaded[key];if(typeof comm=="object") {rendered=renderComment(comm);$rendered=$(rendered);$repcnt=$rendered.find("." + _cfg.repliesContainerClass);$showbtn=$rendered.find("." + _cfg.showRepliesClass);$hidebtn=$rendered.find("." + _cfg.hideRepliesClass);repcount=0;if($repcnt.length!==0) {if(!!comm.replies) {repcount=w.fifa.utils.getKeysCount(comm.replies);if(repcount!==0) {reps=comm.replies;ir=0;for (var key in reps) {rep=reps[key];if(typeof rep=="object") {reprendered=renderReply(rep);$reprendered=$(reprendered);$repcnt.append($reprendered);ir=ir + 1;if((repcount - ir)<_cfg.visibleReplies) {$reprendered.show();}}}repnum=transformTemplate(_cfg.template.repliescount,{ numreplies:repcount});$repnum=$(repnum);$rcc=$rendered.find("." + _cfg.repliesControlClass);if($rcc.size()>0) {$rcc.prepend($repnum);}cfg=_cfg;if($showbtn.size()>0) {$showbtn.on("click",function(event) {var $target=$(event.target);var $par=$target.closest("div.parentcomment");if($par.size()>0) {var commid=$par.attr("id");if((typeof cfg.onShowReplies=='function')&&(!!commid)) {cfg.onShowReplies.call(undefined,commid);}}});}if($hidebtn.size()>0) {$hidebtn.on("click",function(event) {var $target=$(event.target);var $par=$target.closest("div.parentcomment");if($par.size()>0) {var commid=$par.attr("id");if((typeof cfg.onHideReplies=='function')&&(!!commid)) {cfg.onHideReplies.call(undefined,commid);}}});}}if(w.fifa.utils.getKeysCount(comm.replies)<=_cfg.visibleReplies) {$showbtn.hide();$hidebtn.hide();}else {$showbtn.show();}}}comm.isVisible=true;if(repcount==0) {$rendered.find(".c_repliesCount").hide();}if(_cfg.isEnabled==1) {$rendered.find("." + _cfg.buttonReplyClass).show();}$commentscnt.append($rendered);$repbtn=$rendered.find('.' + _cfg.buttonReplyClass);if(($repbtn.size()>0)&&(typeof _cfg.onReplyClick=='function')) {$repbtn.on("click",null,comm,function(e) {var c=Cookie.get("FIFACom");if(c) {data=e.data;commId=data.commId;commKey=data.commKey;_cfg.onReplyClick.call(undefined,commId,commKey);}else {document.location.href=_cfg.loginPath;}});}_cfg.countVisible=_cfg.countVisible + 1;}}if(_cfg.countVisible>oldvisible&&oldvisible>0) {fifa.dispatcher.trigger('analytics:buttonMoreComments');}_cfg.currentLoad=newload;if((_cfg.countVisible>=_cfg.totalParents)||(_cfg.totalParents==null)) {_cfg.enableMore=false;if(typeof _cfg.onMoreDisabled==='function') {_cfg.onMoreDisabled.call();}}if((!!_cfg.isModuleLoaded==false)&&(typeof _cfg.onModuleLoaded=='function')) {_cfg.onModuleLoaded.call();}if(_cfg.countLoaded==0) {$container.find('.noCommentsMessage').show();}}function onCommentSubmit(message,$formCnt,cObj) {if(message.indexOf('error')!=-1) {var s='<div class="commentError"><div class="cEIC">';s += message.toQueryParams().error.replace(/'/g,"");s += '</div></div>';var $df=$formCnt;$df.html(s);}else if(message.indexOf('warning')!=-1) {var s='<div class="commentWarn"><div class="cEIC">';s += message.toQueryParams().warning.replace(/'/g,"");s += '</div></div>';var $df=$formCnt;$feedback=$(s);$df.html($feedback);if(!!_cfg.submitView) {fakeComment=transformTemplate(_cfg.template.fakereply,cObj);v=_cfg.template.voc||{};fakeComment=transformTemplate(fakeComment,v);$fc=$(fakeComment);$df.prepend($fc);newbutton=transformTemplate(_cfg.template.anotherCommentButton,v);$newbtn=$(newbutton);$df.append($newbtn);$newbtn.on("click",null,cObj,function(e) {fcomm=e.data;if(!!fcomm.parentCommentId) {_cfg.onReplyClick.call(undefined,fcomm.parentCommentId,fcomm.commKey);}else {_cfg.onReplyClick.call();}});$fc.show();var $container=$("#" + _cfg.containerid);$container.find('.' + _cfg.noCommentMsgClass).hide();fifa.dispatcher.trigger('analytics:commentSubmit');}}else {$formCnt.hide();}}function onModuleLoaded() {$sidebarlnk=$("div.article-sidebar a.icon-comments");if($sidebarlnk.size()>0) {$sidebarlnk.attr("href","#" + _cfg.containerid);$sidebarlnk.click(function(e) {e.preventDefault();$('html,body').animate({scrollTop:$("#" + _cfg.containerid).offset().top - 40},400);window.location.hash="#" + _cfg.containerid;});}_cfg.isModuleLoaded=true;var c=Cookie.get("FIFACom");var $container=$("#" + _cfg.containerid);var $logctrl=$container.find("." + _cfg.loginControlClass);var $fbkbtn=$container.find("." + _cfg.facebookButtonClass);if(_cfg.isEnabled==2) {closedmsg=transformTemplate(_cfg.template.closedMessage,{});$closedmsg=$closedmsg;$container.find("." + _cfg.formMainContainerClass).eq(0).before($closedmsg);}else {$logctrl.show();}if(c) {showForm();$logctrl.hide();}else {$fbkbtn.appendTo($logctrl).show();}if(!!_cfg.updateCounter) {var clobj=_cfg.commentsLoaded;fcomm=clobj[Object.keys(clobj)[0]];if(!!fcomm) {totcomments=fcomm.nComments;if(!!totcomments==false) {totcomments=0;}$('.dcm-icons .icon-comments').html('<span>' + totcomments + '</span>');}}}function onUserLoggedIn() {var c=Cookie.get("FIFACom");var $container=$("#" + _cfg.containerid);var $logctrl=$container.find("." + _cfg.loginControlClass);var $fbkbtn=$container.find("." + _cfg.facebookButtonClass);if(c) {showForm();$logctrl.hide();}else {$fbkbtn.appendTo($logctrl).show();}}function onUserLoggedOut() {var c=Cookie.get("FIFACom");var $container=$("#" + _cfg.containerid);var $logctrl=$container.find("." + _cfg.loginControlClass);var $fbkbtn=$container.find("." + _cfg.facebookButtonClass);if(!!c==false) {$logctrl.show();$fbkbtn.appendTo($logctrl).show();$cmtform=$container.find('.' + _cfg.formMainContainerClass);$cmtform.html("").hide();$repform=$container.find('.' + _cfg.formReplyContainerClass);$repform.html("").hide();}}function renderComment(comm) {if(!!comm) {rendered=transformTemplate(_cfg.template.comment,comm);v=_cfg.template.voc||{};rendered=transformTemplate(rendered,v);return rendered;}}function renderReply(rep) {if(!!rep) {rendered=transformTemplate(_cfg.template.reply,rep);v=_cfg.template.voc||{};rendered=transformTemplate(rendered,v);return rendered;}}function initialMapping() {$inpage=$commentscnt.find("div.comment.parentcomment");$.each($inpage,function() {$this=$(this);commid=$this.attr("data-id");_cfg.keysLoaded.push(commid);if(!!_cfg.commentsLoaded[key]==false) {_cfg.commentsLoaded[key]={isVisible:true};}_cfg.countVisible=_cfg.countVisible + 1;});}function showReplies(parentid) {$parent=$('#' + parentid);$parent.find("." + _cfg.hideRepliesClass).show();$parent.find("." + _cfg.showRepliesClass).hide();$parent.find("." + _cfg.replyClass).show();}function hideReplies(parentid) {$parent=$('#' + parentid);$parent.find("." + _cfg.hideRepliesClass).hide();$parent.find("." + _cfg.showRepliesClass).show();$replies=$parent.find("." + _cfg.replyClass);numreplies=$replies.size();$replies.slice(0,numreplies - _cfg.visibleReplies).hide();}function showForm(commid,commkey) {if(_cfg.isEnabled==1) {var fake={};var c=Cookie.get("FIFACom");if(!!c) {fake.visitorId=c.toQueryParams().id;fake.visitorScreenName=c.toQueryParams().un;fake.urlProfile="/theclub/myprofile/index.htmx";fake.avatar="/userdata/" + splitResourceId(c.toQueryParams().id,3) + "/avatar_50.png";fake.avatarSmall="/userdata/" + splitResourceId(c.toQueryParams().id,3) + "/avatar_24.png";fake.avatarNormal="/userdata/" + splitResourceId(c.toQueryParams().id,3) + "/avatar_80.png";fake.Country=c.toQueryParams().ct;}if(!!commid&&!!commkey) {cmtloaded=_cfg.commentsLoaded[commkey];if(!!cmtloaded) {$cmt=$('#c_' + commid);$cmtform=$cmt.find('.' + _cfg.formReplyContainerClass);$floaded=$cmtform.find('#f_comment_' + commid);if($floaded.size()>0) {$floaded.show();$cmtform.show();}else {var cmtobj=$.extend({},cmtloaded,fake);form=transformTemplate(_cfg.template.replyform,cmtobj);v=_cfg.template.voc||{};form=transformTemplate(form,v);$form=$(form);$cmtform.append($form);$txtarea=$cmtform.find("textarea");fifa.utils.commentLimit($txtarea.get(0));$cmtform.show();$sendbtn=$form.find('.' + _cfg.sendButtonClass);if($sendbtn.size()>0) {$sendbtn.on("click",null,cmtloaded,function(e) {data=e.data;commId=data.commId;commKey=data.commKey;if(typeof _cfg.onReplySubmit==='function') {_cfg.onReplySubmit.call(undefined,commId,commKey);}});}}$cmt.find("." + _cfg.buttonReplyClass).hide();}}else {$cmtform=$container.find('.' + _cfg.formMainContainerClass);$floaded=$cmtform.find('#f_comment');if($floaded.size()>0) {$floaded.show();$cmtform.show();}else {form=transformTemplate(_cfg.template.form,fake);form=transformTemplate(form,{});v=_cfg.template.voc||{};form=transformTemplate(form,v);$form=$(form);$cmtform.append($form);$txtarea=$cmtform.find("textarea");fifa.utils.commentLimit($txtarea.get(0));$cmtform.show();$sendbtn=$form.find('.' + _cfg.sendButtonClass);if($sendbtn.size()>0) {$sendbtn.on("click",function() {if(typeof _cfg.onReplySubmit==='function') {_cfg.onReplySubmit.call();}});}}}}}function onSubmitError() {}function onSubmitSuccess() {}function getConfig() {return _cfg;}function submitComment(commid,commkey) {$cmt=null;$cmtform=null;if(!!commid) {$cmt=$('#c_' + commid);$cmtform=$cmt.find('.' + _cfg.formReplyContainerClass);}else {$cmtform=$container.find('.' + _cfg.formMainContainerClass);}var $pf=$("#f_comment");if(!!commid) {$pf=$("#f_comment_" + commid);}if($pf.find('.' + _cfg.textAreaClass).eq(0).val().length>1) {var p=$pf.parent().attr("id");var u=_cfg.postUrl;var idrc="";var idcs="";var resourceTitle="";if(_cfg.idCupSeason>0) {idcs="&idcs=" + _cfg.idCupSeason;}if(_cfg.idResourceClass>0) {idrc="&idrc=" + _cfg.idResourceClass;}if(!!_cfg.resourceTitle&&_cfg.resourceTitle!="") {resourceTitle="&resTitle=" + _cfg.resourceTitle;}$txtarea=$pf.find('.' + _cfg.textAreaClass);if(($txtarea.size()>0)) {var fake={};var c=Cookie.get("FIFACom");fake.visitorId=c.toQueryParams().id;fake.resourceId=_cfg.idResource;fake.resourceClass=_cfg.idResourceClass;if(!!commid) {fake.parentCommentId=commid;}fake.visitorScreenName=c.toQueryParams().un;fake.urlProfile="/theclub/myprofile/index.htmx";fake.avatar="/userdata/" + splitResourceId(c.toQueryParams().id,3) + "/avatar_50.png";fake.avatarSmall="/userdata/" + splitResourceId(c.toQueryParams().id,3) + "/avatar_24.png";fake.comm=$txtarea.val();fake.Country=c.toQueryParams().ct;fake.commKey=commkey;$.ajax({type:"POST",url:encodeURI(u).withIgn(),data:"btn_Save=save&n=" + _cfg.idResource + idrc + idcs + resourceTitle + "&p=" + commid + "&c_comment=" + $txtarea.val(),error:function(msg) {if(typeof _cfg.onSubmitError=='function') {_cfg.onSubmitError.call(undefined,msg,$cmtform,fake);}},success:function(msg) {if(typeof _cfg.onSubmitSuccess=='function') {_cfg.onSubmitSuccess.call(undefined,msg,$cmtform,fake);}}});}}}function onSaveComments(message,$form) {closeForm($form);}function closeForm($form) {$form.hide;}if(_cfg.currentPage==0) {showFirstLoad();_cfg.currentPage=_cfg.currentPage + 1;}else {if((!!_cfg.isModuleLoaded==false)&&(typeof _cfg.onModuleLoaded=='function')) {_cfg.onModuleLoaded.call();}}return {"showMore":showMore,"showReplies":showReplies,"hideReplies":hideReplies,"submitComment":submitComment,"onLogin":_cfg.onLogin,"onLogOut":_cfg.onLogout,"getConfig":getConfig}}return init(params);});fifa.CommentManager=CommentManager;Utils=w.fifa.utils||{};Utils=(function() {commentLimit=function(obj) {w.fifa=w.fifa||{};w.fifa.config=fifa.config||{};$obj=$(obj);$counter=$obj.closest(".replywrapper").find("span.c_count");numWordsComment=w.fifa.config.numWordsComment||100;w.fifa.config.numWordsComment=numWordsComment;var len=obj.value.split(/[\s]+/);if(len.length>0) {if(numWordsComment - (len.length - 1)>=0) {$counter.html(numWordsComment - (len.length - 1));}else {$counter.html("0");}}counter=len.length - 1;if(len.length>numWordsComment) {objvalue=obj.value.split(/[\s]+/);var newval='';for (var m=0; m<numWordsComment; m++) {newval += objvalue[m] + ' ';}obj.value='';obj.value=newval;return false;}return true;};getKeysCount=function(obj) {var count=0;if(typeof obj==='object') {var i;for (i in obj) {if(obj.hasOwnProperty(i)) {count++;}}}return count;};transformTemplate=function(template,data) {function has(object,property) {return Object.prototype.hasOwnProperty.call(object,property)&&Object.prototype.propertyIsEnumerable.call(object,property);}var matches=template.match(/\[[^\]]+?\]/g),match,field;for (match in matches) {if(has(matches,match)) {field=matches[match].toString().slice(1,-1);if(has(data,field)) {rep=data[field];template=template.replace(matches[match],rep);}else {vm=w.fifa.vocManager;if(!!vm) {rep=vm.translate(field);template=template.replace(matches[match],rep);}}}}return decodeURIComponent(template);};this.commentLimit=commentLimit;this.transformTemplate=transformTemplate;this.getKeysCount=getKeysCount;}).call(Utils||{});w.fifa.utils=Utils;utils=fifa.utils||{};utils.commentLimit=commentLimit;utils.transformTemplate=transformTemplate;utils.getKeysCount=getKeysCount;fifa.utils=utils;w.fifa=fifa;if(!String.prototype.hasOwnProperty("toQueryParams")) {String.prototype.toQueryParams=function(separator) {var q=new Object();var match=this.trim().sanitize().match(/([^?#]*)(#.*)?$/);if(match) {var qs=match[1].replace("+"," ").split(separator||"&");var i,qps,name,value;for (i=0; i<qs.length; i++) {qps=qs[i].split("=",2);name=unescape(qps[0]);value=(qps.length==1) ? undefined:qs[i].substring(name.length + 1);if(!q[name]) {q[name]=value;}else if(typeOf(q[name])==="array") {q[name][q[name].length]=value;}else {q[name]=[q[name],value];}}}return q;}}var CManagers=window.fifa.CommentManagers||[];CallbackManager.AddCallback("comments","init",function() {$(".commentmanager").each(function() {$this=$(this);containerid=$this.attr("id");idCupSeason=$this.attr("data-tcode");idResourceClass=$this.attr("data-resourceclass");idResource=$this.attr("data-resource");resourceTitle=$this.attr("data-title");isenabled=$this.attr("data-enabled");initconf={};if(!!isenabled) {initconf.isEnabled=isenabled;}if(!!containerid) {initconf.containerid=containerid;}if(!!idCupSeason) {initconf.idCupSeason=idCupSeason;}if(!!idResourceClass) {initconf.idResourceClass=idResourceClass;}if(!!idResource) {initconf.idResource=idResource;}if(!!resourceTitle) {initconf.resourceTitle=resourceTitle;}if($this.hasClass("notitle")) {initconf.hideTitle=true;}cm=window.fifa.CommentManager(initconf);if(!!cm) {CManagers.push(cm);}});window.fifa.CommentManagers=CManagers;});CallbackManager.ApplyCallbacks("comments","init");CallbackManager.AddCallback("login","login-success",function() {cmtmanagers=window.fifa.CommentManagers||[];for (var i=0; i<cmtmanagers.length; i++) {if(typeof (cmtmanagers[i]=="object")) {cmtmanagers[i].onLogin.call();}}});})(window,document);;(function($,w,d) {$(d).ready(function() {if(!!CallbackManager) {CallbackManager.AddCallback("login","user-logout",function() {location.reload();});}});}(window.jQuery||window.jm,window,document));;(function(w,d) {w.AppData=function(options) {if(!options) {throw 'Required parameter \'options\' not defined';}var _this=this,name=options['appName']||false,prefix=options['prefix']||'com.fifa.',timestamp='.timestamp',getLibrary=options['getLibraryPath']||options['libraryPath']||false,postLibrary=options['postLibraryPath']||options['libraryPath']||false,tsLibrary=options['timestampLibraryPath']||false;name=prefix + name;timestamp=name + timestamp;if(!name) {throw 'Required parameter \'options.appName\' not defined';}_this.postLibraryPath=function() {return postLibrary||null;};_this.setPostLibraryPath=function(path) {postLibrary=path;};_this.getLibraryPath=function() {return getLibrary||null;};_this.setGetLibraryPath=function(path) {getLibrary=path;};_this.timestampLibraryPath=function() {return tsLibrary||null;};_this.setTimestampLibraryPath=function(path) {tsLibrary=path;};_this.appName=function() {return name||null;};var persist=function(data,next,ts) {localStorage.setItem(name,data);if(ts) {localStorage.setItem(timestamp,ts);}if(localStorage.getItem(name)===data) {if(next) {next(data);}}else if(next) {next(null,'Can\'t save local data for app ' + name);}};_this.save=function(appData,next) {if(postLibrary) {$.post(postLibrary.withIgn(),appData).done(function(ts) {persist(appData,next,ts);}).fail(function(error) {if(next) {next(null,error);}});}else {persist(appData,next);}};var requestData=function(next,ts) {$.get(getLibrary.withIgn()).done(function(data) {persist(data,next,ts);}).fail(function(error) {next(null,error);});};var requestTimestamp=function(data,timestamp,next) {$.get(tsLibrary.withIgn()).done(function(ts) {if(ts>timestamp) {requestData(next,ts);}else {next(data);}}).fail(function(error) {next(null,error);});};_this.load=function(next) {if(!next) {return;}var _data=localStorage.getItem(name);var _timestamp=localStorage.getItem(timestamp);if(_data) {if(tsLibrary&&getLibrary) {requestTimestamp(_data,_timestamp,next);}else {next(_data);}}else {if(getLibrary) {requestData(next);}else {next(null);}}};};})(window,document);;(function($,w,d) {w.ModalConfirm=function(options) {if(!options) {throw 'Required parameter "options" not defined';}var _this=this,_parent=options['parentElement']||$('body'),_cssClass=options['cssClass'],_title=options['title'],_body=options['body']||'Are you sure?',_confirmText=options['confirmText']||'Confirm',_cancelText=options['cancelText']||'Cancel',_confirmCallback=options['confirmCallback'],_cancelCallback=options['cancelCallback'];var $overlay=$('<div></div>'),$modal=$('<div></div>'),$header=$('<div></div>'),$body=$('<div></div>'),$confirmButton=$('<button></button>'),$cancelButton=$('<button></button>');_this.show=function() {$overlay.show();};_this.hide=function(callback) {$overlay.hide();if(callback)callback();};var _confirm=function() {_this.hide(_confirmCallback);};var _cancel=function() {_this.hide(_cancelCallback);};$confirmButton.text(_confirmText);$confirmButton.addClass('confirm');$confirmButton.bind('click',_confirm);$cancelButton.text(_cancelText);$cancelButton.addClass('cancel');$cancelButton.bind('click',_cancel);$modal.addClass('mdl-cnfrm');$modal.html('<div class="mdl-body">' + _body + "</div>");$overlay.addClass('mdl-cnfrm-wrap');if(_cssClass) {$modal.addClass(_cssClass);}$overlay.css({'position':(options['parentElement'] ? 'absolute':'fixed')});if(_title) {$header.addClass('mdl-header');$header.html(_title);$modal.prepend($header);}$modal.append($body);$modal.append($confirmButton);$modal.append($cancelButton);$overlay.append($modal);$(_parent).append($overlay);}}(window.jQuery||window.jm,window,document));;/* http://plugins.jquery.com/validate */
;(function(a,b,c,d){var e=['input:not([type]),input[type="color"],input[type="date"],input[type="datetime"],input[type="datetime-local"],input[type="email"],input[type="file"],input[type="hidden"],input[type="month"],input[type="number"],input[type="password"],input[type="range"],input[type="search"],input[type="tel"],input[type="text"],input[type="time"],input[type="url"],input[type="week"],textarea',"select",'input[type="checkbox"],input[type="radio"]'],f=e.join(","),g={},h=function(a,c){var f={pattern:!0,conditional:!0,required:!0},h=b(this),i=h.val()||"",j=h.data("validate"),k=j!==d?g[j]:{},l=h.data("prepare")||k.prepare,m=h.data("pattern")||("regexp"==b.type(k.pattern)?k.pattern:/(?:)/),n=h.attr("data-ignore-case")||h.data("ignoreCase")||k.ignoreCase,o=h.data("mask")||k.mask,p=h.data("conditional")||k.conditional,q=h.data("required"),r=h.data("describedby")||k.describedby,s=h.data("description")||k.description,t=h.data("trim"),u=/^(true|)$/i,v=/^false$/i,s=b.isPlainObject(s)?s:c.description[s]||{};if(q=""!=q?q||!!k.required:!0,t=""!=t?t||!!k.trim:!0,u.test(t)&&(i=b.trim(i)),b.isFunction(l)?i=l.call(h,i)+"":b.isFunction(c.prepare[l])&&(i=c.prepare[l].call(h,i)+""),"regexp"!=b.type(m)&&(n=!v.test(n),m=n?RegExp(m,"i"):RegExp(m)),p!=d)if(b.isFunction(p))f.conditional=!!p.call(h,i,c);else for(var x=p.split(/[\s\t]+/),y=0,z=x.length;z>y;y++)c.conditional.hasOwnProperty(x[y])&&!c.conditional[x[y]].call(h,i,c)&&(f.conditional=!1);if(q=u.test(q),q&&(h.is(e[0]+","+e[1])?!i.length>0&&(f.required=!1):h.is(e[2])&&(h.is("[name]")?0==b('[name="'+h.prop("name")+'"]:checked').length&&(f.required=!1):f.required=h.is(":checked"))),h.is(e[0]))if(m.test(i)){if("keyup"!=a.type&&o!==d){for(var A=i.match(m),B=0,z=A.length;z>B;B++)o=o.replace(RegExp("\\$\\{"+B+"(?::`([^`]*)`)?\\}","g"),A[B]!==d?A[B]:"$1");o=o.replace(/\$\{\d+(?::`([^`]*)`)?\}/g,"$1"),m.test(o)&&h.val(o)}}else q?f.pattern=!1:i.length>0&&(f.pattern=!1);var C=b('[id="'+r+'"]'),D=s.valid;return C.length>0&&"keyup"!=a.type&&(f.required?f.pattern?f.conditional||(D=s.conditional):D=s.pattern:D=s.required,C.html(D||"")),"function"==typeof k.each&&k.each.call(h,a,f,c),c.eachField.call(h,a,f,c),f.required&&f.pattern&&f.conditional?(c.waiAria&&h.prop("aria-invalid",!1),"function"==typeof k.valid&&k.valid.call(h,a,f,c),c.eachValidField.call(h,a,f,c)):(c.waiAria&&h.prop("aria-invalid",!0),"function"==typeof k.invalid&&k.invalid.call(h,a,f,c),c.eachInvalidField.call(h,a,f,c)),f};b.extend({validateExtend:function(a){return b.extend(g,a)},validateSetup:function(c){return b.extend(a,c)}}).fn.extend({validate:function(c){return c=b.extend({},a,c),b(this).validateDestroy().each(function(){var a=b(this);if(a.is("form")){a.data(name,{options:c});var d=a.find(f),g=c.namespace;a.is("[id]")&&(d=d.add('[form="'+a.prop("id")+'"]').filter(f)),d=d.filter(c.filter),c.onKeyup&&d.filter(e[0]).on("keyup."+g,function(a){h.call(this,a,c)}),c.onBlur&&d.on("blur."+g,function(a){h.call(this,a,c)}),c.onChange&&d.on("change."+g,function(a){h.call(this,a,c)}),c.onSubmit&&a.on("submit."+g,function(e){var f=!0;d.each(function(){var a=h.call(this,e,c);a.pattern&&a.conditional&&a.required||(f=!1)}),f?(c.sendForm||e.preventDefault(),b.isFunction(c.valid)&&c.valid.call(a,e,c)):(e.preventDefault(),b.isFunction(c.invalid)&&c.invalid.call(a,e,c))})}})},validateDestroy:function(){var a=b(this),c=a.data(name);if(a.is("form")&&b.isPlainObject(c)&&"string"==typeof c.options.nameSpace){var d=a.removeData(name).find(f).add(a);a.is("[id]")&&(d=d.add(b('[form="'+a.prop("id")+'"]').filter(f))),d.off("."+c.options.nameSpace)}return a}})})({sendForm:!0,waiAria:!0,onSubmit:!0,onKeyup:!1,onBlur:!1,onChange:!1,nameSpace:"validate",conditional:{},prepare:{},description:{},eachField:$.noop,eachInvalidField:$.noop,eachValidField:$.noop,invalid:$.noop,valid:$.noop,filter:"*"},jQuery,window);

;/* JQuery Watermark Light Plugin
* Version 1.01
* http://www.davidjrush.com/jqueryplugin/watermark/
*
* Copyright 2013, David J Rush
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://www.opensource.org/licenses/mit-license.php
* http://www.opensource.org/licenses/GPL-2.0
*/
!function(a){var t=[],e={init:function(){return this.each(function(e){var r=a(this),s=r.attr("title");if(t.push(s),r.is(":password")){var i='<input type="text" class="watermark marked password" value="'+s+'" />';r.wrap("<span />").after(i).hide().removeClass("watermark"),r.blur(function(){0==r.val().length&&r.hide().next().show()}).next().focus(function(){a(this).hide().prev().show().focus()})}else(r.is(":text")||r.is("[type=email]")||r.is("textarea"))&&(r.blur(function(){0==r.val().length&&r.val(t[e]).addClass("marked")}).focus(function(){r.val()==t[e]&&r.hasClass("marked")&&r.val("").removeClass("marked")}),r.val().length<1&&r.val(s).addClass("marked"))})},clearWatermarks:function(){return this.each(function(e){a(this).hasClass("marked")&&a(this).val()==t[e]&&a(this).val("")})}};a.fn.watermark=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(a.error("Method "+t+" does not exist on jQuery.watermark"),void 0):e.init.apply(this,arguments)}}(jQuery);

;(function($,w,d) {var formView=fifa.view.extend({$watermarks:null,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('validateInit');_this.triggerMe('watermarkInit');_this.triggerMe('captchaInit');},onReset:function(e) {var $target=$(e.target);if(!$target.is('#bt-reset')) { return;}e.preventDefault();this.$watermarks.each(function() {var _t=this;if(_t.value!==_t.getAttribute('title')) {_t.value='';$(_t).watermark();}}).end().find('.has-error,.has-success').removeClass('has-error has-success');},onValidateInit:function() {if(!$.fn.validate) {$.fn.validate=function() { return this;};$.validateExtend=function() {};}var _this=this;_this.$el.find('textarea').each(function() {this.value=this.value.trim();}).end().validate({sendForm:(_this.$el.attr('data-sendform')||true),onKeyUp:(_this.$el.attr('data-onkeyup')||true),eachValidField:function() {this.closest('.form-group').removeClass('has-error').addClass('has-success');},eachInvalidField:function() {this.watermark().closest('.form-group').removeClass('has-success').addClass('has-error');},prepare:{'watermark_reset':function() {_this.$watermarks.watermark('clearWatermarks');}}});$.validateExtend({textarea:{required:true,conditional:function(value) {return value.trim().length>0;}},email:{required:true,pattern:/^(\w|-|\.)+@(\w|-|\.)+\.(([a-z]{2,3})|info|aero|museum|name)$/}});},onWatermarkInit:function(element) {var _this=this;if(!$.fn.watermark) {$.fn.watermark=function() { return this;};}if(element) {$(element).find('.watermark').watermark();}else {_this.$watermarks=_this.$el.find('.watermark').watermark();}},onCaptchaInit:function() {var _this=this,$captcha=_this.$el.find('.captcha-change').on('click',function(e) {e.preventDefault();_this.triggerMe('captchaGet');});if($captcha.length) {_this.triggerMe('captchaGet');}},onCaptchaGet:function() {var _this=this;$.get("/theclub/library/tools/captcha.htmx?t=" + Math.random(),function(data) {_this.$el.find('.captcha-encoded').val(data);_this.triggerMe('captchaRefresh',data)});},onCaptchaRefresh:function(data) {this.$el.find('.captcha-img').attr("src","/theclub/library/tools/captcha.htmx?t=" + Math.random() + "&c=" + (data||_this.$el.find('.captcha-encoded').val())).show();},events:{'click #bt-reset':'onReset'},name:'form:view',model_name:'form'});$(d).ready(function() {w.views.form=new formView({el:'form',bind:['validateInit','watermarkInit','captchaInit','captchaGet','captchaRefresh']});});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var shareView=fifa.view.extend({shareActions:{},cfg:'page=facebook,twitter,google,mail,print|article=facebook,twitter,google,mail|picture=facebook,twitter,google',href:null,fbAppId:'500163113370079',lang:"en",externalScripts:[],direction:'left',is_gallery:false,sidebar_topThreshold:-1,inited:{},initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('init');},getHref:function(overrideEnLang) {var _lang=this.lang;if(overrideEnLang&&_lang==='en') {_lang='www';}return [w.location.protocol,'/','/',fifa.isThirdParty ? w.location.hostname:(_lang + '.fifa.com'),w.location.pathname].join('');},onInit:function() {var _this=this;_this.is_gallery=$('.ph-gallery').length;if(_this.lang==='ar') {_this.direction='right';}_this.getShareLibraries();_this.$el.each(function() {var $this=$(this),share_type=$this.attr('data-share-type');_this.triggerMe('prepareShare',$this,share_type);_this.triggerMe([share_type,'PrepareShare'].join(''),$this);});},getShareLibraries:function() {var _this=this,_shareLibs=_this.cfg.split('|'),l=_shareLibs.length,lib,kv,type,values,values_l,values_idx;while (l) {lib=_shareLibs[l - 1];if(lib&&lib.length>0) {kv=lib.split('=');type=kv[0],values=kv[1].split(',');_this.shareActions[type]={ tmpl:[],list:[]};values_l=values.length;values_idx=0;for (values_idx; values_idx<values_l; values_idx++) {_this.shareActions[type].list.push(values[values_idx]);}}l--;}},onArticlePrepareShare:function($obj) {var _this=this,$sidebar=fifa.cacheMap.get('share.icons')||fifa.cacheMap.set('share.icons',$obj.closest('.dcm-icons').css('position','relative')),sidebar_top=$sidebar.attr('data-top') ? parseInt($sidebar.attr('data-top'),10):$sidebar.offset().top,$article_body=fifa.cacheMap.get('share.article_body')||fifa.cacheMap.set('share.article_body',$('.article-body')),article_height=fifa.cacheMap.get('share.article_height')||fifa.cacheMap.set('share.article_height',$article_body.outerHeight(true)),article_max=fifa.cacheMap.get('share.article_max')||fifa.cacheMap.set('share.article_max',article_height);_this.sidebar_topThreshold=sidebar_top - fifa.getSiteHeaderHeight() - 10;$sidebar.attr('data-top',sidebar_top).attr('data-move-top',0);_this.setSidebarScroll($sidebar,sidebar_top,_this.sidebar_topThreshold,$article_body,article_height,article_max,fifa.$body_html.scrollTop());},coreOnPageScroll:function() {var _this=this;if(!_this.inited.article) { return;}var $sidebar=fifa.cacheMap.get('share.icons'),sidebar_top=$sidebar.attr('data-top') ? parseInt($sidebar.attr('data-top'),10):$sidebar.offset().top,$article_body=fifa.cacheMap.get('share.article_body'),article_height=fifa.cacheMap.get('share.article_height'),article_max=fifa.cacheMap.get('share.article_max');_this.setSidebarScroll($sidebar,sidebar_top,_this.sidebar_topThreshold,$article_body,article_height,article_max,fifa.$body_html.scrollTop());},setSidebarScroll:function($sidebar,sidebar_top,topThreshold,$article_body,article_height,article_max,scroll_top) {if(scroll_top>topThreshold) {var sidebar_height=$sidebar.outerHeight(true);$sidebar.attr('data-move-top',scroll_top - topThreshold);if((parseInt($sidebar.attr('data-move-top'),10) + sidebar_height)<article_max) {$sidebar.css('top',scroll_top - topThreshold);}else {$sidebar.css('top',article_max - sidebar_height - fifa.getSiteHeaderHeight());}}else { $sidebar.css('top',0);}},onPrepareShare:function($obj,shareType) {var _this=this,shareList=_this.shareActions[shareType],dataOrientation=$obj.attr('data-share-orientation')||'horizontal';if(!shareList) { return;}_this.inited[shareType]=true;var i=0,l=shareList.list.length,hiddenClass= ' hidden';shareList.tmpl=[];shareList.tmpl.push(['<div class="share-toolbar',hiddenClass,'"><div class="share-toolbar-wrap"><ul>'].join(''));for (i; i<l; i++) {_this.triggerMe([shareList.list[i],'Prepare'].join(''),shareList,$obj);}shareList.tmpl.push('</div></ul></div>');$obj.after(shareList.tmpl.join(''));var $shareToolbar=$obj.next('.share-toolbar');$shareToolbar.find('.print-share,.mail-share').off('click.share').on('click.share',function() {var $this=$(this);if($this.is('.print-share')) {w.print();}_this.$el.each(function() {_this.onShareClick({ preventDefault:function() {},currentTarget:this});});});$shareToolbar.attr('data-orig-overflow',$shareToolbar.css('overflow')).attr('data-orig-overflow-x',$shareToolbar.css('overflow-x')).attr('data-orig-overflow-y',$shareToolbar.css('overflow-y'));if(dataOrientation==='horizontal') {var totalWidth=fifa.is_mobile ? 40:70;$shareToolbar.find('li').each(function() {var $this=$(this),css_width=parseInt($this.css('width'),10),width=css_width>10 ? css_width:parseInt($this.css('max-width'),10),outer_width=$this.outerWidth(true);if(isNaN(width)||width<outer_width) {width=outer_width;}totalWidth += width;});if(!fifa.is_mobile) {$shareToolbar.css('width',totalWidth);}else {$shareToolbar.css('width',fifa.getScreenWidth());}$shareToolbar.attr('data-orientation',dataOrientation);var $wrap=$shareToolbar.find('.share-toolbar-wrap'),margin=parseInt($wrap.css('margin-left'),10);if(!margin) {margin=parseInt($wrap.css('margin-right'),10);}var _css={ width:totalWidth - 40};if(!fifa.is_mobile) {_css[_this.direction]=totalWidth;}$wrap.css(_css);}},loadExternalScripts:function() {var _this=this,i=0,l=_this.externalScripts.length,fjs=d.getElementsByTagName('script')[0],js,ext_script;for (i; i<l; i++) {ext_script=_this.externalScripts[i];if(ext_script.loaded) { continue;}ext_script.loaded=true;if(d.getElementById(ext_script.id)) {if(ext_script.altBehaviour) {(function(ext) {setTimeout(function() {ext.altBehaviour.call();},300);}(ext_script));}continue;}js=d.createElement('script');js.id=ext_script.id;js.src=ext_script.href;fjs.parentNode.insertBefore(js,fjs);}},onFacebookPrepare:function(shareObj,$obj) {var _this=this,dataLayout=$obj.attr('data-fb-layout')||''||'button_count',dataAction=$obj.attr('data-fb-action')||'like',dataShowFaces=$obj.attr('data-fb-showfaces')||'false',dataShare=$obj.attr('data-fb-share')||''||'true';shareObj.tmpl.push('<li class="facebook-share"><div class="fb-share-button" data-href="',_this.getHref() + "?fb_ref=facebook_share",'" data-type="',dataLayout,'"></div></li>');_this.externalScripts.push({id:'facebook-jssdk',href:'/' + '/connect.facebook.net/en_GB/all.js#xfbml=1&appId=' + _this.fbAppId,altBehaviour:function() {if(w.FB&&w.FB.XFBML) {w.FB.XFBML.parse();}if(!w.fbAsyncInit) {w.fbAsyncInit=function() {FB.init({appId:_this.fbAppId,status:true,xfbml:true});$('div.fb-share-button').on('click',function() {fifa.dispatcher.trigger('analytics:share','facebook like button');});};}}});},onTwitterPrepare:function(shareObj,$obj) {var _this=this,dataCount=$obj.attr('data-twitter-count')||''||'horizontal';shareObj.tmpl.push('<li class="twitter-share"><a href="https://twitter.com/share" data-counturl="',_this.getHref(true),'" data-url="',_this.getHref() + "?cid=twitter_button",'" class="twitter-share-button" data-count="',dataCount,'" data-lang="en"></a></li>');_this.externalScripts.push({id:'twitter-wjs',href:'https:/' + '/platform.twitter.com/widgets.js',altBehaviour:function() {if(w.twttr&&w.twttr.widgets) {w.twttr.widgets.load();w.twttr.events.bind('tweet',function(event) {fifa.dispatcher.trigger('analytics:share','twitter button');});}}});},onGooglePrepare:function(shareObj,$obj) {var _this=this,dataSize=$obj.attr('data-g-size')||'medium',dataAnnotation=$obj.attr('data-g-annotation')||''||'bubble';window.gpluscb=window.gpluscb||function() {window.fifa.dispatcher.trigger('analytics:share','google +1 button');};dataCallback="window.gpluscb";shareObj.tmpl.push('<li class="google-share"><div class="g-plusone" data-callback="gpluscb" data-annotation="',dataAnnotation,'" data-size="',dataSize,'" data-href="',_this.getHref() + "?cid=googleplus_button",'"></div></li>');_this.externalScripts.push({id:'google-js',href:'https:/' + '/apis.google.com/js/platform.js',altBehaviour:function() {if(w.gapi&&w.gapi.plusone) {$('.google-share').each(function() {w.gapi.plusone.go(this);});}}});w.___gcfg={ lang:'en'};},onMailPrepare:function(shareObj) {shareObj.tmpl.push('<li class="mail-share"><a href="mailto:?subject=',d.title,'&body=',this.getHref(),'"></a></li>');},onLinkedinPrepare:function(shareObj) {shareObj.tmpl.push('<li class="linkedin-share">linkedin</li>');},onPrintPrepare:function(shareObj) {shareObj.tmpl.push('<li class="print-share"><a href="#"></a></li>');},events:{'click':'onShareClick'},onShareClick:function(e) {e.preventDefault();var _this=this,$target=$(e.currentTarget),$shareToolbar=$target.next('.share-toolbar');if($shareToolbar.attr('data-orientation')==='horizontal'&&!fifa.is_mobile) {var $wrap=$shareToolbar.find('.share-toolbar-wrap'),toDir=0,setHidden=false,overflow=overflowX=overflowY='visible';if(parseInt($wrap.css(_this.direction),10)<=0) {toDir=$shareToolbar.css('width');setHidden=true;overflow=$shareToolbar.attr('data-orig-overflow'),overflowX=$shareToolbar.attr('data-orig-overflow-x'),overflowY=$shareToolbar.attr('data-orig-overflow-y');$shareToolbar.css('overflow',overflow).css('overflow-x',overflowX).css('overflow-y',overflowY);}else {$shareToolbar.removeClass('hidden');}var _css={};_css[_this.direction]=toDir;$wrap.stop(true,true).animate(_css,function() {if(!setHidden) {$shareToolbar.css('overflow',overflow).css('overflow-x',overflowX).css('overflow-y',overflowY);}else {$shareToolbar.addClass('hidden');}_this.loadExternalScripts();});}else {$shareToolbar.toggleClass('hidden').css('overflow','visible');if(fifa.is_mobile) {$target.toggleClass('active');}_this.loadExternalScripts();}_this.triggerMe([$target.attr('data-share-type'),'PrepareShare'].join(''),$target);},onReinit:function() {var _this=this;_this.$el.next('.share-toolbar').remove();_this.triggerMe('init');},historyOnStateChange:function() {this.triggerMe('reinit');},photostreamOnHashSet:function() {this.triggerMe('reinit');},thumblistOnHashSet:function() {this.triggerMe('reinit');},coreOnReinit:function() {var _this=this;_this.setElement(__cfg.el);_this.triggerMe('init');},name:'share:view',model_name:'share'}),__cfg={el:'a[data-share-type]',bind:['init','reinit','prepareShare','articlePrepareShare','facebookPrepare','twitterPrepare','googlePrepare','linkedinPrepare','mailPrepare','printPrepare','history:stateChange','photostream:hashSet','thumblist:hashSet','core:pageScroll','core:reinit']};w.views.share=new shareView(__cfg);}(window.jQuery||window.jm,window,document)); });
